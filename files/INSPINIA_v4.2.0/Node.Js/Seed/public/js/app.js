class App{init(){this.initComponents(),this.initPreloader(),this.initPortletCard(),this.initMultiDropdown(),this.initFormValidation(),this.initCounter(),this.initCodePreview(),this.initToggle(),this.initDismissible(),this.initLeftSidebar(),this.initTopbarMenu()}initComponents(){"function"==typeof lucide.createIcons&&lucide.createIcons(),document.querySelectorAll('[data-bs-toggle="popover"]').forEach(e=>{new bootstrap.Popover(e)}),document.querySelectorAll('[data-bs-toggle="tooltip"]').forEach(e=>{new bootstrap.Tooltip(e)}),document.querySelectorAll(".offcanvas").forEach(e=>{new bootstrap.Offcanvas(e)}),document.querySelectorAll(".toast").forEach(e=>{new bootstrap.Toast(e)})}initPreloader(){window.addEventListener("load",()=>{var e=document.getElementById("status");let t=document.getElementById("preloader");e&&(e.style.display="none"),t&&setTimeout(()=>t.style.display="none",350)})}initPortletCard(){$('[data-action="card-close"]').on("click",function(e){e.preventDefault();let t=$(this).closest(".card");t.fadeOut(300,function(){t.remove()})}),$('[data-action="card-toggle"]').on("click",function(e){e.preventDefault();var e=$(this).closest(".card"),t=$(this).find("i").eq(0),i=e.find(".card-body"),o=e.find(".card-footer");i.slideToggle(300),o.slideToggle(200),t.toggleClass("ti-chevron-up ti-chevron-down"),e.toggleClass("card-collapse")});var e=document.querySelectorAll('[data-action="card-refresh"]');e&&e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t,e=e.target.closest(".card");let i=e.querySelector(".card-overlay");i||((i=document.createElement("div")).classList.add("card-overlay"),(t=document.createElement("div")).classList.add("spinner-border","text-primary"),i.appendChild(t),e.appendChild(i)),i.style.display="flex",setTimeout(function(){i.style.display="none"},1500)})}),$('[data-action="code-collapse"]').on("click",function(e){e.preventDefault();var e=$(this).closest(".card"),t=$(this).find("i").eq(0);e.find(".code-body").slideToggle(300),t.toggleClass("ti-chevron-up ti-chevron-down")})}initMultiDropdown(){$(".dropdown-menu a.dropdown-toggle").on("click",function(){var e=$(this).next(".dropdown-menu"),e=$(this).parent().parent().find(".dropdown-menu").not(e);return e.removeClass("show"),e.parent().find(".dropdown-toggle").removeClass("show"),!1})}initFormValidation(){document.querySelectorAll(".needs-validation").forEach(t=>{t.addEventListener("submit",e=>{t.checkValidity()||(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")},!1)})}initCounter(){var e=document.querySelectorAll("[data-target]");let t=new IntersectionObserver((e,r)=>{e.forEach(n=>{if(n.isIntersecting){let e=n.target,t=e.getAttribute("data-target").replace(/,/g,""),i=(t=parseFloat(t),0),o,a=(o=Number.isInteger(t)?Math.floor(t/25):t/25,()=>{i<t?((i+=o)>t&&(i=t),e.innerText=s(i),requestAnimationFrame(a)):e.innerText=s(t)});function s(e){return e%1==0?e.toLocaleString():e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}a(),r.unobserve(e)}})},{threshold:1});e.forEach(e=>t.observe(e))}initCodePreview(){"undefined"!=typeof Prism&&Prism.plugins&&Prism.plugins.NormalizeWhitespace&&Prism.plugins.NormalizeWhitespace.setDefaults({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0,"tabs-to-spaces":4,"spaces-to-tabs":4})}initToggle(){document.querySelectorAll("[data-toggler]").forEach(e=>{let t=e.querySelector("[data-toggler-on]"),i=e.querySelector("[data-toggler-off]"),o="on"===e.getAttribute("data-toggler"),a=()=>{o?(t?.classList.remove("d-none"),i?.classList.add("d-none")):(t?.classList.add("d-none"),i?.classList.remove("d-none"))};t?.addEventListener("click",()=>{o=!1,a()}),i?.addEventListener("click",()=>{o=!0,a()}),a()})}initDismissible(){document.querySelectorAll("[data-dismissible]").forEach(t=>{t.addEventListener("click",()=>{var e=t.getAttribute("data-dismissible"),e=document.querySelector(e);e&&e.remove()})})}initLeftSidebar(){let n=document.querySelector(".side-nav");if(n){n.querySelectorAll("li [data-bs-toggle='collapse']").forEach(e=>{e.addEventListener("click",e=>e.preventDefault())});let a=n.querySelectorAll("li .collapse"),e=(a.forEach(e=>{e.addEventListener("show.bs.collapse",e=>{let t=e.target,i=[],o=t.parentElement;for(;o&&o!==n;)o.classList.contains("collapse")&&i.push(o),o=o.parentElement;a.forEach(e=>{e===t||i.includes(e)||new bootstrap.Collapse(e,{toggle:!1}).hide()})})}),window.location.href.split(/[?#]/)[0]);n.querySelectorAll("a").forEach(t=>{if(t.href===e){n.querySelectorAll("a.active, li.active, .collapse.show").forEach(e=>{e.classList.remove("active"),e.classList.remove("show")}),t.classList.add("active");let e=t.closest("li");for(;e&&e!==n;){e.classList.add("active");var i=e.closest(".collapse");e=i?(new bootstrap.Collapse(i,{toggle:!1}).show(),(i=i.closest("li"))&&i.classList.add("active"),i):e.parentElement}}}),setTimeout(()=>{var e=n.querySelector("li.active .active"),t=document.querySelector(".sidenav-menu .simplebar-content-wrapper");if(e&&t){e=e.offsetTop-300;if(100<e){var r=t;t=e;var c=600;let a=r.scrollTop,n=t-a,s=0;!function e(){var t,i,o;s+=20,r.scrollTop=(t=s,i=a,o=n,(t/=c/2)<1?o/2*t*t+i:-o/2*(--t*(t-2)-1)+i),s<c&&setTimeout(e,20)}()}}},200)}}initTopbarMenu(){var o=document.querySelector(".navbar-nav");if(o){let t=window.location.href.split(/[?#]/)[0];o.querySelectorAll("li a").forEach(e=>{if(e.href===t){e.classList.add("active");let t=e.parentElement;for(let e=0;e<6&&t&&t!==document.body;e++)"LI"!==t.tagName&&!t.classList.contains("dropdown")||t.classList.add("active"),t=t.parentElement}});let e=document.querySelector(".navbar-toggle"),i=document.getElementById("navigation");e&&i&&e.addEventListener("click",()=>{e.classList.toggle("open"),"block"===i.style.display?i.style.display="none":i.style.display="block"})}}}class LayoutCustomizer{constructor(){this.html=document.documentElement,this.config={}}init(){this.initConfig(),this.initSwitchListener(),this.initWindowSize(),this._adjustLayout(),this.setSwitchFromConfig()}initConfig(){this.defaultConfig=JSON.parse(JSON.stringify(window.defaultConfig)),this.config=JSON.parse(JSON.stringify(window.config)),this.setSwitchFromConfig()}changeSkin(e){this.config.skin=e,this.html.setAttribute("data-skin",e),this.setSwitchFromConfig()}changeMenuColor(e){this.config.menu.color=e,this.html.setAttribute("data-menu-color",e),this.setSwitchFromConfig()}changeLeftbarSize(e,t=!0){this.html.setAttribute("data-sidenav-size",e),t&&(this.config.sidenav.size=e,this.setSwitchFromConfig())}changeLayoutPosition(e){this.config.layout.position=e,this.html.setAttribute("data-layout-position",e),this.setSwitchFromConfig()}changeTheme(e){this.config.theme=e,this.html.setAttribute("data-bs-theme",e),this.setSwitchFromConfig()}changeTopbarColor(e){this.config.topbar.color=e,this.html.setAttribute("data-topbar-color",e),this.setSwitchFromConfig()}changeSidebarUser(e){(this.config.sidenav.user=e)?this.html.setAttribute("data-sidenav-user",e):this.html.removeAttribute("data-sidenav-user"),this.setSwitchFromConfig()}resetTheme(){this.config=JSON.parse(JSON.stringify(window.defaultConfig)),this.changeSkin(this.config.skin),this.changeMenuColor(this.config.menu.color),this.changeLeftbarSize(this.config.sidenav.size),this.changeTheme(this.config.theme),this.changeLayoutPosition(this.config.layout.position),this.changeTopbarColor(this.config.topbar.color),this.changeSidebarUser(this.config.sidenav.user),this._adjustLayout()}setSwitchFromConfig(){var e=this.config;sessionStorage.setItem("__INSPINIA_CONFIG__",JSON.stringify(e)),document.querySelectorAll("#theme-settings-offcanvas input[type=checkbox]").forEach(e=>e.checked=!1);((e,t)=>{e=document.querySelector(e);e&&(e.checked=t)})('input[name="sidebar-user"]',!0===e.sidenav.user),[["data-skin",e.skin],["data-bs-theme",e.theme],["data-layout-position",e.layout.position],["data-topbar-color",e.topbar.color],["data-menu-color",e.menu.color],["data-sidenav-size",e.sidenav.size]].forEach(([e,t])=>{e=document.querySelector(`input[name="${e}"][value="${t}"]`);e&&(e.checked=!0)})}initSwitchListener(){var e=(e,t)=>{document.querySelectorAll(e).forEach(e=>e.addEventListener("change",()=>t(e)))},e=(e('input[name="data-skin"]',e=>this.changeSkin(e.value)),e('input[name="data-menu-color"]',e=>this.changeMenuColor(e.value)),e('input[name="data-sidenav-size"]',e=>this.changeLeftbarSize(e.value)),e('input[name="data-bs-theme"]',e=>this.changeTheme(e.value)),e('input[name="data-layout-position"]',e=>this.changeLayoutPosition(e.value)),e('input[name="data-topbar-color"]',e=>this.changeTopbarColor(e.value)),e('input[name="sidebar-user"]',e=>this.changeSidebarUser(e.checked)),document.getElementById("light-dark-mode")),e=(e&&e.addEventListener("click",()=>{var e="light"===this.config.theme?"dark":"light";this.changeTheme(e)}),document.querySelector("#reset-layout")),e=(e&&e.addEventListener("click",()=>this.resetTheme()),document.querySelector(".sidenav-toggle-button")),e=(e&&e.addEventListener("click",()=>this._toggleSidebar()),document.querySelector(".button-close-offcanvas"));e&&e.addEventListener("click",()=>{this.html.classList.remove("sidebar-enable"),this.hideBackdrop()}),document.querySelectorAll(".button-on-hover").forEach(e=>{e.addEventListener("click",()=>{var e=this.html.getAttribute("data-sidenav-size");this.changeLeftbarSize("on-hover-active"===e?"on-hover":"on-hover-active",!0)})})}_toggleSidebar(){var e=this.html.getAttribute("data-sidenav-size"),t=this.config.sidenav.size;"offcanvas"===e?this.showBackdrop():"compact"===t?this.changeLeftbarSize("condensed"===e?"compact":"condensed",!0):this.changeLeftbarSize("condensed"===e?"default":"condensed",!0),this.html.classList.toggle("sidebar-enable")}showBackdrop(){var e=document.createElement("div");e.id="custom-backdrop",e.className="offcanvas-backdrop fade show",document.body.appendChild(e),document.body.style.overflow="hidden",767<window.innerWidth&&(document.body.style.paddingRight="15px"),e.addEventListener("click",()=>{this.html.classList.remove("sidebar-enable"),this.hideBackdrop()})}hideBackdrop(){var e=document.getElementById("custom-backdrop");e&&(document.body.removeChild(e),document.body.style.overflow="",document.body.style.paddingRight="")}_adjustLayout(){var e=window.innerWidth,t=this.config.sidenav.size;e<=767.98?this.changeLeftbarSize("offcanvas",!1):e<=1140&&!["offcanvas"].includes(t)?this.changeLeftbarSize("condensed",!1):this.changeLeftbarSize(t)}initWindowSize(){window.addEventListener("resize",()=>this._adjustLayout())}}document.addEventListener("DOMContentLoaded",function(e){(new App).init(),(new LayoutCustomizer).init()});