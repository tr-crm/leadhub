((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@svgdotjs/svg.js")):"function"==typeof define&&define.amd?define(["@svgdotjs/svg.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).ApexSankey=e(t.SVG)})(this,function(E){class L{constructor(t,e="apex"){this.canvas=t,this.prefix=e}getSvgString(){return this.canvas.svg().replace(/(<img [\w\W]+?)(>)/g,"$1 />").replace(/(<br)(>)/g,"$1 />").replace(/(<hr)(>)/g,"$1 />")}svgUrl(){var t=this.getSvgString(),t=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}triggerDownload(t,e){var r=document.createElement("a");r.href=t,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}exportToSVG(){this.triggerDownload(this.svgUrl(),`${this.prefix}-${(new Date).getTime()}.svg`)}}function z(t){return null==$?void 0:$[t]}var $={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},I="object"==typeof global&&global&&global.Object===Object&&global,t="object"==typeof self&&self&&self.Object===Object&&self,e=(t=I||t||Function("return this")()).Symbol,p=Array.isArray,N=(s=Object.prototype).hasOwnProperty,F=s.toString,T=e?e.toStringTag:void 0,P=Object.prototype.toString,B="[object Null]",D="[object Undefined]",U=e?e.toStringTag:void 0;function j(t){if(null==t)return void 0===t?D:B;if(U&&U in Object(t)){var e=t,r=N.call(e,T),n=e[T];try{var o=!(e[T]=void 0)}catch(t){}var i=F.call(e);return o&&(r?e[T]=n:delete e[T]),i}return P.call(t)}function x(t){return null!=t&&"object"==typeof t}var W="[object Symbol]";function V(t){return"symbol"==typeof t||x(t)&&j(t)==W}var R=1/0,G=(s=e?e.prototype:void 0)?s.toString:void 0;function Z(t){var e;return"string"==typeof t?t:p(t)?((t,e)=>{for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o})(t,Z)+"":V(t)?G?G.call(t):"":"0"==(e=t+"")&&1/t==-R?"-0":e}function Y(t){return null==t?"":Z(t)}function H(t,e,r){return t+(r?"-":"")+e.toLowerCase()}var q=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,X=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),rt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,r="A-Z\\xc0-\\xd6\\xd8-\\xde",n="["+(a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000")+"]",ot="\\d+",o="["+(d="\\u2700-\\u27bf")+"]",i="(?:"+(hl="["+(h="a-z\\xdf-\\xf6\\xf8-\\xff")+"]")+"|"+(a="[^"+(s="\\ud800-\\udfff")+a+ot+d+h+r+"]")+")",a="(?:"+(r="["+r+"]")+"|"+a+")",u="(?:['’](?:d|ll|m|re|s|t|ve))?",it="(?:['’](?:D|LL|M|RE|S|T|VE))?",s=(at="[\\ufe0e\\ufe0f]?")+(f="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?")+"(?:\\u200d(?:"+["[^"+s+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]"].join("|")+")"+at+f+")*",at="(?:"+[o,d,h].join("|")+")"+s,ut=RegExp([r+"?"+hl+"+"+u+"(?="+[n,r,"$"].join("|")+")",a+"+"+it+"(?="+[n,r+i,"$"].join("|")+")",r+"?"+i+"+"+u,r+"+"+it,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ot,at].join("|"),"g"),st=RegExp("['’]","g");let ct=(t="",e,r="")=>{t=document.getElementById(t),e?null!=t&&t.setAttribute("style",e):null!=t&&t.removeAttribute("style"),(null==t?void 0:t.innerHTML.replaceAll("'",'"'))!==r.replaceAll("'",'"')&&t&&(t.innerHTML=r)},ft=(t={})=>{var e,r=[];for(e in t){var n=`${(t=>{t=((t=Y(t))&&t.replace(q,z).replace(X,"")).replace(st,""),t=Y(t);for(var e=nt.test(t)?t.match(ut)||[]:t.match(rt)||[],r=H,n="",o=-1,i=null==e?0:e.length;++o<i;)n=r(n,e[o],o,e);return n})(e)}: ${t[e]};`;r.push(n)}return r.join(" ")};function lt(t,e,r,n){var o=new E.G;return o.attr({"data-parent":n,"data-self":r,transform:void 0!==t&&void 0!==e?`translate(${t}, ${e})`:void 0}),o}function dt(){}let ht={export:"data:image/svg+xml,%3csvg%20fill='%23000000'%20width='20px'%20height='20px'%20viewBox='0%200%2024%2024'%20id='export-2'%20xmlns='http://www.w3.org/2000/svg'%20class='icon%20line'%3e%3cpolyline%20id='primary'%20points='15%203%2021%203%2021%209'%20style='fill:%20none;%20stroke:%20rgb(0,%200,%200);%20stroke-linecap:%20round;%20stroke-linejoin:%20round;%20stroke-width:%201.5;'%3e%3c/polyline%3e%3cpath%20id='primary-2'%20data-name='primary'%20d='M21,13v7a1,1,0,0,1-1,1H4a1,1,0,0,1-1-1V4A1,1,0,0,1,4,3h7'%20style='fill:%20none;%20stroke:%20rgb(0,%200,%200);%20stroke-linecap:%20round;%20stroke-linejoin:%20round;%20stroke-width:%201.5;'%3e%3c/path%3e%3cline%20id='primary-3'%20data-name='primary'%20x1='11'%20y1='13'%20x2='21'%20y2='3'%20style='fill:%20none;%20stroke:%20rgb(0,%200,%200);%20stroke-linecap:%20round;%20stroke-linejoin:%20round;%20stroke-width:%201.5;'%3e%3c/line%3e%3c/svg%3e","fit-screen":"data:image/svg+xml,%3csvg%20width='20px'%20height='20px'%20viewBox='0%200%2032%2032'%20id='icon'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpolygon%20points='8%202%202%202%202%208%204%208%204%204%208%204%208%202'/%3e%3cpolygon%20points='24%202%2030%202%2030%208%2028%208%2028%204%2024%204%2024%202'/%3e%3cpolygon%20points='8%2030%202%2030%202%2024%204%2024%204%2028%208%2028%208%2030'/%3e%3cpolygon%20points='24%2030%2030%2030%2030%2024%2028%2024%2028%2028%2024%2028%2024%2030'/%3e%3cpath%20d='M24,24H8a2.0023,2.0023,0,0,1-2-2V10A2.0023,2.0023,0,0,1,8,8H24a2.0023,2.0023,0,0,1,2,2V22A2.0023,2.0023,0,0,1,24,24ZM8,10V22H24V10Z'/%3e%3crect%20fill='none'%20width='32'%20height='32'/%3e%3c/svg%3e","zoom-in":"data:image/svg+xml,%3csvg%20width='20px'%20height='20px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%3e%3cg%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20transform='translate(-308.000000,%20-1139.000000)'%20fill='%23000000'%3e%3cpath%20d='M321.46,1163.45%20C315.17,1163.45%20310.07,1158.44%20310.07,1152.25%20C310.07,1146.06%20315.17,1141.04%20321.46,1141.04%20C327.75,1141.04%20332.85,1146.06%20332.85,1152.25%20C332.85,1158.44%20327.75,1163.45%20321.46,1163.45%20L321.46,1163.45%20Z%20M339.688,1169.25%20L331.429,1161.12%20C333.592,1158.77%20334.92,1155.67%20334.92,1152.25%20C334.92,1144.93%20328.894,1139%20321.46,1139%20C314.026,1139%20308,1144.93%20308,1152.25%20C308,1159.56%20314.026,1165.49%20321.46,1165.49%20C324.672,1165.49%20327.618,1164.38%20329.932,1162.53%20L338.225,1170.69%20C338.629,1171.09%20339.284,1171.09%20339.688,1170.69%20C340.093,1170.3%20340.093,1169.65%20339.688,1169.25%20L339.688,1169.25%20Z%20M326.519,1151.41%20L322.522,1151.41%20L322.522,1147.41%20C322.522,1146.85%20322.075,1146.41%20321.523,1146.41%20C320.972,1146.41%20320.524,1146.85%20320.524,1147.41%20L320.524,1151.41%20L316.529,1151.41%20C315.978,1151.41%20315.53,1151.59%20315.53,1152.14%20C315.53,1152.7%20315.978,1153.41%20316.529,1153.41%20L320.524,1153.41%20L320.524,1157.41%20C320.524,1157.97%20320.972,1158.41%20321.523,1158.41%20C322.075,1158.41%20322.522,1157.97%20322.522,1157.41%20L322.522,1153.41%20L326.519,1153.41%20C327.07,1153.41%20327.518,1152.96%20327.518,1152.41%20C327.518,1151.86%20327.07,1151.41%20326.519,1151.41%20L326.519,1151.41%20Z'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e","zoom-out":"data:image/svg+xml,%3csvg%20width='20px'%20height='20px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20%3e%3cg%20transform='translate(-360.000000,%20-1139.000000)'%20fill='%23000000'%3e%3cpath%20d='M373.46,1163.45%20C367.17,1163.45%20362.071,1158.44%20362.071,1152.25%20C362.071,1146.06%20367.17,1141.04%20373.46,1141.04%20C379.75,1141.04%20384.85,1146.06%20384.85,1152.25%20C384.85,1158.44%20379.75,1163.45%20373.46,1163.45%20L373.46,1163.45%20Z%20M391.688,1169.25%20L383.429,1161.12%20C385.592,1158.77%20386.92,1155.67%20386.92,1152.25%20C386.92,1144.93%20380.894,1139%20373.46,1139%20C366.026,1139%20360,1144.93%20360,1152.25%20C360,1159.56%20366.026,1165.49%20373.46,1165.49%20C376.672,1165.49%20379.618,1164.38%20381.932,1162.53%20L390.225,1170.69%20C390.629,1171.09%20391.284,1171.09%20391.688,1170.69%20C392.093,1170.3%20392.093,1169.65%20391.688,1169.25%20L391.688,1169.25%20Z%20M378.689,1151.41%20L368.643,1151.41%20C368.102,1151.41%20367.663,1151.84%20367.663,1152.37%20C367.663,1152.9%20368.102,1153.33%20368.643,1153.33%20L378.689,1153.33%20C379.23,1153.33%20379.669,1152.9%20379.669,1152.37%20C379.669,1151.84%20379.23,1151.41%20378.689,1151.41%20L378.689,1151.41%20Z'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e"};class pt{constructor(t,e,r="apex"){this.element=t,this.canvas=e,this.prefix=r,this.export=new L(e,r)}createToolbarItem(t,e){var r=document.createElement("div"),n=new Image,e=(n.src=e,r.id=t,r.append(n),ft({alignItems:"center",backgroundColor:"#FFFFFF",border:"1px solid #BCBCBC",cursor:"pointer",display:"flex",height:"30px",justifyContent:"center",width:"30px"}));return r.setAttribute("style",e),r}render({enableExport:t=!1,enableFitscreen:e=!1,enableZoom:r=!1,onFitscreen:n=dt,onZoom:o=dt}){var i=document.createElement("div"),a=(i.id="toolbar",ft({display:"flex",gap:"5px",position:"absolute",right:"10px",top:"10px"}));i.setAttribute("style",a),t&&((t=this.createToolbarItem("export",ht.export)).addEventListener("click",()=>{this.export.exportToSVG()}),i.append(t)),r&&(t=this.createToolbarItem("zoom-in",ht["zoom-in"]),r=this.createToolbarItem("zoom-out",ht["zoom-out"]),t.addEventListener("click",()=>{o(.1)}),r.addEventListener("click",()=>{o(-.1)}),i.append(t,r)),e&&((t=this.createToolbarItem("fit-screen",ht["fit-screen"])).addEventListener("click",()=>{n()}),i.append(t)),null!=(a=this.element)&&a.append(i)}}function vt(t,e){var r;return null===e.w||null===e.v?0:e.w===e.v?Math.PI/2:(r=t.node(e.v),t=t.node(e.w),Math.atan2(t.y-r.y,t.x-r.x))}function gt(t,e){return t===e||t!=t&&e!=e}function yt(t,e){for(var r=t.length;r--;)if(gt(t[r][0],e))return r;return-1}var bt=Array.prototype.splice;function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _t(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}c.prototype.clear=function(){this.__data__=[],this.size=0},c.prototype.delete=function(t){var e=this.__data__;return!((t=yt(e,t))<0||(t==e.length-1?e.pop():bt.call(e,t,1),--this.size,0))},c.prototype.get=function(t){var e=this.__data__;return(t=yt(e,t))<0?void 0:e[t][1]},c.prototype.has=function(t){return-1<yt(this.__data__,t)},c.prototype.set=function(t,e){var r=this.__data__,n=yt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var wt="[object AsyncFunction]",mt="[object Function]",jt="[object GeneratorFunction]",xt="[object Proxy]";function Et(t){return _t(t)&&((t=j(t))==mt||t==jt||t==wt||t==xt)}var f=t["__core-js_shared__"],Ot=(o=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",kt=Function.prototype.toString;function l(t){if(null!=t){try{return kt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var At=/^\[object .+?Constructor\]$/,d=Object.prototype,h=Function.prototype.toString,s=d.hasOwnProperty,Ct=RegExp("^"+h.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Mt(t,e){return!_t(e=t=null==t?void 0:t[e])||Ot&&Ot in e||!(Et(e)?Ct:At).test(l(e))?void 0:t}var St=Mt(t,"Map"),Lt=Mt(Object,"create"),zt=Object.prototype.hasOwnProperty,$t=Object.prototype.hasOwnProperty;function v(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function It(t,e){var r,t=t.__data__;return("string"==(r=typeof e)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?t["string"==typeof e?"string":"hash"]:t.map}function g(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function y(t){t=this.__data__=new c(t),this.size=t.size}function Nt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new g;++e<r;)this.add(t[e])}v.prototype.clear=function(){this.__data__=Lt?Lt(null):{},this.size=0},v.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},v.prototype.get=function(t){var e,r=this.__data__;return Lt?"__lodash_hash_undefined__"===(e=r[t])?void 0:e:zt.call(r,t)?r[t]:void 0},v.prototype.has=function(t){var e=this.__data__;return Lt?void 0!==e[t]:$t.call(e,t)},v.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Lt&&void 0===e?"__lodash_hash_undefined__":e,this},g.prototype.clear=function(){this.size=0,this.__data__={hash:new v,map:new(St||c),string:new v}},g.prototype.delete=function(t){return t=It(this,t).delete(t),this.size-=t?1:0,t},g.prototype.get=function(t){return It(this,t).get(t)},g.prototype.has=function(t){return It(this,t).has(t)},g.prototype.set=function(t,e){var r=It(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},y.prototype.clear=function(){this.__data__=new c,this.size=0},y.prototype.delete=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t},y.prototype.get=function(t){return this.__data__.get(t)},y.prototype.has=function(t){return this.__data__.has(t)},y.prototype.set=function(t,e){var r=this.__data__;if(r instanceof c){var n=r.__data__;if(!St||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new g(n)}return r.set(t,e),this.size=r.size,this},Nt.prototype.add=Nt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Nt.prototype.has=function(t){return this.__data__.has(t)};var Ft=1,Tt=2;function Pt(t,e,i,a,u,s){var r=i&Ft,n=t.length;if(n!=(o=e.length)&&!(r&&n<o))return!1;var o=s.get(t),c=s.get(e);if(o&&c)return o==e&&c==t;var f=-1,l=!0,d=i&Tt?new Nt:void 0;for(s.set(t,e),s.set(e,t);++f<n;){var h,p=t[f],v=e[f];if(void 0!==(h=a?r?a(v,p,f,e,t,s):a(p,v,f,t,e,s):h)){if(h)continue;l=!1;break}if(d){if(!(t=>{for(var e,r,n=-1,o=null==t?0:t.length;++n<o;)if(e=t[n],r=n,!d.has(r)&&(p===e||u(p,e,i,a,s))&&d.push(r))return 1})(e)){l=!1;break}}else if(p!==v&&!u(p,v,i,a,s)){l=!1;break}}return s.delete(t),s.delete(e),l}var Bt=t.Uint8Array;function Dt(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}function Ut(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Wt=1,Vt=2,Rt="[object Boolean]",Gt="[object Date]",Zt="[object Error]",Yt="[object Map]",Ht="[object Number]",qt="[object RegExp]",Xt="[object Set]",Jt="[object String]",Kt="[object Symbol]",Qt="[object ArrayBuffer]",te="[object DataView]",ee=(hl=e?e.prototype:void 0)?hl.valueOf:void 0,re=Object.prototype.propertyIsEnumerable,ne=Object.getOwnPropertySymbols,oe=ne?function(t){if(null==t)return[];t=Object(t);for(var e=ne(t),r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];re.call(t,a)&&(i[o++]=a)}return i}:function(){return[]};function ie(t){return x(t)&&"[object Arguments]"==j(t)}var ae=(a=Object.prototype).hasOwnProperty,ue=a.propertyIsEnumerable,se=ie(function(){return arguments}())?ie:function(t){return x(t)&&ae.call(t,"callee")&&!ue.call(t,"callee")},ce=((u=(i=(n="object"==typeof exports&&exports&&!exports.nodeType&&exports)&&"object"==typeof module&&module&&!module.nodeType&&module)&&i.exports===n?t.Buffer:void 0)?u.isBuffer:void 0)||function(){return!1},fe=9007199254740991,le=/^(?:0|[1-9]\d*)$/;function de(t,e){var r=typeof t;return!!(e=null==e?fe:e)&&("number"==r||"symbol"!=r&&le.test(t))&&-1<t&&t%1==0&&t<e}var he=9007199254740991;function pe(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=he}var b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b["[object Arguments]"]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b["[object Map]"]=b["[object Number]"]=b["[object Object]"]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object WeakMap]"]=!1;var ve,ge=(r="object"==typeof exports&&exports&&!exports.nodeType&&exports)&&"object"==typeof module&&module&&!module.nodeType&&module,ye=ge&&ge.exports===r&&I.process,be=(ot=(it=(()=>{try{return ge&&ge.require&&ge.require("util").types||ye&&ye.binding&&ye.binding("util")}catch(t){}})())&&it.isTypedArray)?(ve=ot,function(t){return ve(t)}):function(t){return x(t)&&pe(t.length)&&!!b[j(t)]},_e=Object.prototype.hasOwnProperty;function we(t){var e,r=p(t),n=!r&&se(t),o=!r&&!n&&ce(t),i=!r&&!n&&!o&&be(t),a=r||n||o||i,u=a?((t,e)=>{for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n})(t.length,String):[],s=u.length;for(e in t)!_e.call(t,e)||a&&("length"==e||o&&("offset"==e||"parent"==e)||i&&("buffer"==e||"byteLength"==e||"byteOffset"==e)||de(e,s))||u.push(e);return u}var me,je,xe=Object.prototype,Ee=(me=Object.keys,function(t){return me(je(t))}),Oe=(je=Object).prototype.hasOwnProperty;function ke(t){return(null!=t&&pe(t.length)&&!Et(t)?we:t=>{if(t!==("function"==typeof(e=t&&t.constructor)&&e.prototype||xe))return Ee(t);var e,r,n=[];for(r in Object(t))Oe.call(t,r)&&"constructor"!=r&&n.push(r);return n})(t)}function Ae(t){var e=oe,r=ke(t);if(p(t))return r;for(var n=r,o=e(t),i=-1,a=o.length,u=n.length;++i<a;)n[u+i]=o[i];return n}var Ce=1,Me=Object.prototype.hasOwnProperty,at=Mt(t,"DataView"),f=Mt(t,"Promise"),o=Mt(t,"Set"),d=Mt(t,"WeakMap"),Se="[object Map]",Le="[object Promise]",ze="[object Set]",$e="[object WeakMap]",Ie="[object DataView]",Ne=l(at),Fe=l(St),Te=l(f),Pe=l(o),Be=l(d),_=j,De=((at&&_(new at(new ArrayBuffer(1)))!=Ie||St&&_(new St)!=Se||f&&_(f.resolve())!=Le||o&&_(new o)!=ze||d&&_(new d)!=$e)&&(_=function(t){var e=j(t);if(t=(t="[object Object]"==e?t.constructor:void 0)?l(t):"")switch(t){case Ne:return Ie;case Fe:return Se;case Te:return Le;case Pe:return ze;case Be:return $e}return e}),1),Ue="[object Arguments]",We="[object Array]",Ve="[object Object]",Re=Object.prototype.hasOwnProperty;function Ge(t,e,r,n,o){return t===e||(null==t||null==e||!x(t)&&!x(e)?t!=t&&e!=e:((t,e,r,n,o,i)=>{var a=p(t),u=p(e),s=a?We:_(t),u=u?We:_(e),c=(s=s==Ue?Ve:s)==Ve,f=(u=u==Ue?Ve:u)==Ve;if((u=s==u)&&ce(t)){if(!ce(e))return!1;c=!(a=!0)}return u&&!c?(i=i||new y,(a||be(t)?Pt:(t,e,r,n,o,i)=>{switch(s){case te:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Qt:return!(t.byteLength!=e.byteLength||!o(new Bt(t),new Bt(e)));case Rt:case Gt:case Ht:return gt(+t,+e);case Zt:return t.name==e.name&&t.message==e.message;case qt:case Jt:return t==e+"";case Yt:var a=Dt;case Xt:var u,a=a||Ut;return!!(t.size==e.size||r&Wt)&&((u=i.get(t))?u==e:(r|=Vt,i.set(t,e),u=Pt(a(t),a(e),r,n,o,i),i.delete(t),u));case Kt:if(ee)return ee.call(t)==ee.call(e)}return!1})(t,e,r,n,o,i)):r&De||(a=c&&Re.call(t,"__wrapped__"),c=f&&Re.call(e,"__wrapped__"),!a&&!c)?!!u&&((t,e,r,n,o,i)=>{var a=r&Ce,u=Ae(t),s=u.length;if(s!=Ae(e).length&&!a)return!1;for(var c=s;c--;){var f=u[c];if(!(a?f in e:Me.call(e,f)))return!1}var l=i.get(t),d=i.get(e);if(l&&d)return l==e&&d==t;var h=!0;i.set(t,e),i.set(e,t);for(var p=a;++c<s;){var v,g=t[f=u[c]],y=e[f];if(!(void 0===(v=n?a?n(y,g,f,e,t,i):n(g,y,f,t,e,i):v)?g===y||o(g,y,r,n,i):v)){h=!1;break}p=p||"constructor"==f}return h&&!p&&(l=t.constructor)!=(d=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof l&&l instanceof l&&"function"==typeof d&&d instanceof d)&&(h=!1),i.delete(t),i.delete(e),h})(t,e,r,n,o,i=i||new y):o(a?t.value():t,c?e.value():e,r,n,i=i||new y)})(t,e,r,n,Ge,o))}var Ze=1,Ye=2;function He(t){return t==t&&!_t(t)}function qe(e,r){return function(t){return null!=t&&t[e]===r&&(void 0!==r||e in Object(t))}}var Xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Je=/^\w*$/;function Ke(t,e){var r;return!p(t)&&("number"==(r=typeof t)||"symbol"==r||"boolean"==r||null==t||V(t)||Je.test(t)||!Xe.test(t)||null!=e&&t in Object(e))}function Qe(n,o){if("function"!=typeof n||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");function i(){var t=arguments,e=o?o.apply(this,t):t[0],r=i.cache;return r.has(e)?r.get(e):(t=n.apply(this,t),i.cache=r.set(e,t)||r,t)}return i.cache=new(Qe.Cache||g),i}Qe.Cache=g;var tr,er=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rr=/\\(\\)?/g,nr=(tr=(h=Qe(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(er,function(t,e,r,n){o.push(r?n.replace(rr,"$1"):e||t)}),o},function(t){return 500===tr.size&&tr.clear(),t})).cache,h);function or(t,e){return p(t)?t:Ke(t,e)?[t]:nr(Y(t))}var ir=1/0;function ar(t){var e;return"string"==typeof t||V(t)?t:"0"==(e=t+"")&&1/t==-ir?"-0":e}function ur(t,e){for(var r=0,n=(e=or(e,t)).length;null!=t&&r<n;)t=t[ar(e[r++])];return r&&r==n?t:void 0}function sr(t,e){return null!=t&&e in Object(t)}var cr=1,fr=2;function lr(t){return t}function w(t,e){if(t&&t.length){for(var r,n=t,o="function"==typeof(t=e)?t:null==t?lr:"object"==typeof t?p(t)?(s=t[0],c=t[1],Ke(s)&&He(c)?qe(ar(s),c):function(t){var u,e=void 0===(e=null==t?void 0:ur(t,s))?void 0:e;return void 0===e&&e===c?(u=s,null!=t&&((t,e,r)=>{for(var n=-1,o=(e=or(u,t)).length,i=!1;++n<o;){var a=ar(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&pe(o)&&de(a,o)&&(p(t)||se(t))})(t,0,sr)):Ge(c,e,cr|fr)}):1==(l=(t=>{for(var e=ke(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,He(o)]}return e})(f=t)).length&&l[0][2]?qe(l[0][0],l[0][1]):function(s){return s===f||((t,e)=>{var r=e.length,n=r;if(null==s)return!n;for(t=Object(s);r--;){var o=e[r];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++r<n;){var i=(o=e[r])[0],a=t[i],u=o[1];if(o[2]){if(void 0===a&&!(i in t))return!1}else if(i=new y,!Ge(u,a,Ze|Ye,void 0,i))return!1}return!0})(0,l)}:Ke(e=t)?(h=ar(e),function(t){return null==t?void 0:t[h]}):(d=e,function(t){return ur(t,d)}),i=-1,a=n.length;++i<a;){var u=o(n[i]);void 0!==u&&(r=void 0===r?u:r+u)}return r}var s,c,f,l,d,h;return 0}function dr(i,a=!0){return function(t,e){var r=vt(i,t),n=vt(i,e),o=a?1:-1;return t.v===e.v&&t.w===e.w?"number"==typeof t.name&&"number"==typeof e.name?t.name-e.name:"string"==typeof t.name&&"string"==typeof e.name?t.name.localeCompare(e.name):0:Math.abs(r-n)<.001?t.v&&t.w&&e.v&&e.w?t.w===e.w?-1*(i.node(t.v).y-i.node(e.v).y):t.v===e.v?-1*(i.node(t.w).y-i.node(e.w).y):0:0:o*(r-n)}}function hr(i,a,u=!0){return function(t,e){var r,n,o;return t.name!==e.name?a.indexOf(t.name)-a.indexOf(e.name):(r=vt(i,t),n=vt(i,e),o=u?1:-1,Math.abs(r-n)<.001?t.v&&t.w&&e.v&&e.w?t.w===e.w?o*(0<r?-1:1)*(i.node(t.v).y-i.node(e.v).y):t.v===e.v?o*(0<r?-1:1)*(i.node(t.w).y-i.node(e.w).y):0:0:o*(r-n))}}function pr(o,i){if(0!==o.length){let e,r=0;for(let t=o.length-1;0<=t;--t)e=o[t].dy/2,o[t][i]-e<r&&(o[t][i]=Math.min(o[t].Rmax,r+e)),r=o[t][i]+e;let n=o[0].Rmax+o[0].dy/2;for(let t=0;t<o.length;++t)e=o[t].dy/2,o[t][i]+e>n&&(o[t][i]=Math.max(e,n-e)),n=o[t][i]-e}}function vr(e,n){e.forEach(t=>{var e,r;t.Rmax=(e=t.x1-t.x0,r=t.y1-t.y0,t.d0!==t.d1?Math.abs(r)/2.1:0!=r?(e*e+r*r)/Math.abs(4*r):1/0),t[n]=Math.max(t.dy/2,t.d0===t.d1?.6*t.Rmax:5+t.dy/2)});let r=((e,r)=>{let n=null;for(let t=0;t<e.length;++t)if(r(e[t])){n=t;break}return n})(e,"r0"===n?t=>t.y1>t.y0:t=>t.y0>t.y1);if(null===r&&(r=e.length),pr(e.slice(r),n),0<r){var o=[];for(let t=r-1;0<=t;t--)o.push(e[t]);pr(o,n)}}function gr(n,o,i,e,a){if(0!==e.length){let t=e.map(t=>{var e=`__${o.v}_${o.w}_`+t;return n.setNode(e,{data:null,direction:a,dummy:!0,rank:t}),e}),r=[o.v,...t,o.w];r.forEach((t,e)=>{e+1<r.length&&n.setEdge(r[e],r[e+1],{data:n.edge(o).data,origEdge:o,origLabel:i,source:n.node(o.v),target:n.node(o.w),value:n.edge(o).value},o.name)}),n.removeEdge(o)}}function yr(a,u,s){{var c=a;let t,e,n=(e=u.length>s.length?(t=u,s):(t=s,u),[]),r=(t.forEach(r=>{e.forEach((t,e)=>{(c.hasEdge(r,t)||c.hasEdge(t,r))&&n.push(e)})}),1);for(;r<void 0;)r*=2;var f=2*r-1;--r;let o=new Array(f);for(let t=0;t<f;t++)o[t]=0;let i=0;return n.forEach(t=>{let e=t+r;for(o[e]++;0<e;)e%2&&(i+=o[e+1]),e=Math.floor((e-1)/2),o[e]++}),i}}var br,_r,wr,mr,jr,xr,Er,Or,kr,Ar,Cr,Mr,Sr,Lr,zr,$r,Ir,Nr,Fr,Tr,Pr,Br,Dr,Ur,Wr,Vr,Rr,Gr,Zr,Yr,Hr,qr,Xr,Jr,Kr,Qr,tn,en,rn,nn,on,an,un,sn,cn,fn,ln,dn,hn,pn,vn,gn,yn,bn,_n,wn,mn,jn,xn,En,On,kn,An,Cn,Mn,Sn,Ln,zn,$n,In,Nn,Fn,Tn,Pn,Bn,Dn,Un,Wn,Vn,Rn,Gn,Zn,Yn,Hn,qn,Xn,Jn,Kn,Qn,to,eo,ro,no,oo,io,ao,uo,so,co,fo,lo,ho,po,vo,go,yo,bo,_o,wo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function mo(){return mr?wr:(mr=1,wr=function(t,e){return t===e||t!=t&&e!=e})}function jo(){if(xr)return jr;xr=1;var n=mo();return jr=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}}function xo(){if($r)return zr;$r=1;var t=_r?br:(_r=1,br=function(){this.__data__=[],this.size=0}),e=(()=>{if(Or)return Er;Or=1;var r=jo(),n=Array.prototype.splice;return Er=function(t){var e=this.__data__;return!((t=r(e,t))<0||(t==e.length-1?e.pop():n.call(e,t,1),--this.size,0))}})(),r=(()=>{if(Ar)return kr;Ar=1;var r=jo();return kr=function(t){var e=this.__data__;return(t=r(e,t))<0?void 0:e[t][1]}})(),n=(()=>{if(Mr)return Cr;Mr=1;var e=jo();return Cr=function(t){return-1<e(this.__data__,t)}})(),o=(()=>{if(Lr)return Sr;Lr=1;var o=jo();return Sr=function(t,e){var r=this.__data__,n=o(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}})();function i(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,zr=i}function Eo(){if(Vr)return Wr;Vr=1;var t="object"==typeof wo&&wo&&wo.Object===Object&&wo;return Wr=t}function J(){if(Gr)return Rr;Gr=1;var t=Eo(),e="object"==typeof self&&self&&self.Object===Object&&self,t=t||e||Function("return this")();return Rr=t}function Oo(){if(Yr)return Zr;Yr=1;var t=J().Symbol;return Zr=t}function ko(){if(Qr)return Kr;Qr=1;var t=Oo(),e=(()=>{if(qr)return Hr;qr=1;var t=Oo(),e=Object.prototype,i=e.hasOwnProperty,a=e.toString,u=t?t.toStringTag:void 0;return Hr=function(t){var e=i.call(t,u),r=t[u];try{var n=!(t[u]=void 0)}catch(t){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}})(),r=(()=>{if(Jr)return Xr;Jr=1;var e=Object.prototype.toString;return Xr=function(t){return e.call(t)}})(),n=t?t.toStringTag:void 0;return Kr=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(n&&n in Object(t)?e:r)(t)}}function K(){return en?tn:(en=1,tn=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)})}function Ao(){if(nn)return rn;nn=1;var e=ko(),r=K();return rn=function(t){return!!r(t)&&("[object Function]"==(t=e(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}}function Co(){var e;return fn||(fn=1,e=Function.prototype.toString,cn=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}),cn}function m(){var r,n;return gn||(gn=1,r=(()=>{if(dn)return ln;dn=1;var e,r=Ao(),n=(sn||(sn=1,t=(()=>{if(an)return on;an=1;var t=J()["__core-js_shared__"];return on=t})(),e=(t=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",un=function(t){return!!e&&e in t}),un),o=K(),i=Co(),a=/^\[object .+?Constructor\]$/,t=Function.prototype,u=Object.prototype,t=t.toString,u=u.hasOwnProperty,s=RegExp("^"+t.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return ln=function(t){return!(!o(t)||n(t))&&(r(t)?s:a).test(i(t))}})(),pn||(pn=1,hn=function(t,e){return null==t?void 0:t[e]}),n=hn,vn=function(t,e){return t=n(t,e),r(t)?t:void 0}),vn}function Mo(){if(bn)return yn;bn=1;var t=m()(J(),"Map");return yn=t}function So(){if(wn)return _n;wn=1;var t=m()(Object,"create");return _n=t}function Lo(){if(Pn)return Tn;Pn=1;var r=Fn?Nn:(Fn=1,Nn=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t});return Tn=function(t,e){return t=t.__data__,r(e)?t["string"==typeof e?"string":"hash"]:t.map}}function zo(){if(Hn)return Yn;Hn=1;var t=(()=>{if(In)return $n;In=1;var t=(()=>{if(zn)return Ln;zn=1;var t=(()=>{if(jn)return mn;jn=1;var t=So();return mn=function(){this.__data__=t?t(null):{},this.size=0}})(),e=En?xn:(En=1,xn=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t}),r=(()=>{if(kn)return On;kn=1;var n=So(),o=Object.prototype.hasOwnProperty;return On=function(t){var e,r=this.__data__;return n?"__lodash_hash_undefined__"===(e=r[t])?void 0:e:o.call(r,t)?r[t]:void 0}})(),n=(()=>{if(Cn)return An;Cn=1;var r=So(),n=Object.prototype.hasOwnProperty;return An=function(t){var e=this.__data__;return r?void 0!==e[t]:n.call(e,t)}})(),o=(()=>{if(Sn)return Mn;Sn=1;var n=So();return Mn=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}})();function i(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Ln=i})(),e=xo(),r=Mo();return $n=function(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}})(),e=(()=>{if(Dn)return Bn;Dn=1;var e=Lo();return Bn=function(t){return t=e(this,t).delete(t),this.size-=t?1:0,t}})(),r=(()=>{if(Wn)return Un;Wn=1;var e=Lo();return Un=function(t){return e(this,t).get(t)}})(),n=(()=>{if(Rn)return Vn;Rn=1;var e=Lo();return Vn=function(t){return e(this,t).has(t)}})(),o=(()=>{if(Zn)return Gn;Zn=1;var o=Lo();return Gn=function(t,e){var r=o(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}})();function i(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Yn=i}function $o(){if(Kn)return Jn;Kn=1;var e=xo(),t=(()=>{if(Nr)return Ir;Nr=1;var t=xo();return Ir=function(){this.__data__=new t,this.size=0}})(),r=Tr?Fr:(Tr=1,Fr=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t}),n=Br?Pr:(Br=1,Pr=function(t){return this.__data__.get(t)}),o=Ur?Dr:(Ur=1,Dr=function(t){return this.__data__.has(t)}),i=(()=>{if(Xn)return qn;Xn=1;var o=xo(),i=Mo(),a=zo();return qn=function(t,e){var r=this.__data__;if(r instanceof o){var n=r.__data__;if(!i||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(n)}return r.set(t,e),this.size=r.size,this}})();function a(t){t=this.__data__=new e(t),this.size=t.size}return a.prototype.clear=t,a.prototype.delete=r,a.prototype.get=n,a.prototype.has=o,a.prototype.set=i,Jn=a}function Io(){return to?Qn:(to=1,Qn=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t})}function No(){if(ro)return eo;ro=1;var e=m(),t=(()=>{try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(t){}})();return eo=t}function Fo(){var n;return oo||(oo=1,n=No(),no=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}),no}function To(){var o,i,a;return ao||(ao=1,o=Fo(),i=mo(),a=Object.prototype.hasOwnProperty,io=function(t,e,r){var n=t[e];a.call(t,e)&&i(n,r)&&(void 0!==r||e in t)||o(t,e,r)}),io}function Po(){var c,f;return so||(so=1,c=To(),f=Fo(),uo=function(t,e,r,n){var o=!r;r=r||{};for(var i=-1,a=e.length;++i<a;){var u=e[i],s=n?n(r[u],t[u],u,r,t):void 0;void 0===s&&(s=t[u]),(o?f:c)(r,u,s)}return r}),uo}function Q(){return ho?lo:(ho=1,lo=function(t){return null!=t&&"object"==typeof t})}function Bo(){if(yo)return go;yo=1;var t=(()=>{if(vo)return po;vo=1;var e=ko(),r=Q();return po=function(t){return r(t)&&"[object Arguments]"==e(t)}})(),e=Q(),r=(o=Object.prototype).hasOwnProperty,n=o.propertyIsEnumerable,o=t(function(){return arguments}())?t:function(t){return e(t)&&r.call(t,"callee")&&!n.call(t,"callee")};return go=o}function tt(){if(_o)return bo;_o=1;var t=Array.isArray;return bo=t}var Do,Uo,Wo,Vo,Ro,Go,Zo,Yo,Ho,qo,Xo,Jo={exports:{}};function Ko(){return Wo||(Wo=1,o=(t=Jo).exports,e=J(),r=Uo?Do:(Uo=1,Do=function(){return!1}),o=((n=(n=(o=o&&!o.nodeType&&o)&&t&&!t.nodeType&&t)&&n.exports===o?e.Buffer:void 0)?n.isBuffer:void 0)||r,t.exports=o),Jo.exports;var t,e,r,n,o}function Qo(){if(Ro)return Vo;Ro=1;var n=/^(?:0|[1-9]\d*)$/;return Vo=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&-1<t&&t%1==0&&t<e}}function ti(){return Zo?Go:(Zo=1,Go=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991})}function ei(){return Xo||(Xo=1,qo=function(e){return function(t){return e(t)}}),qo}Jo.exports;var ri,ni,oi,ii,ai,ui,si,ci,fi,li,di,hi,pi,vi,gi,yi,bi,_i,wi,mi,ji,xi,Ei,Oi,ki,Ai,Ci,Mi={exports:{}};function Si(){return ri||(ri=1,o=(t=Mi).exports,e=Eo(),o=o&&!o.nodeType&&o,r=o&&t&&!t.nodeType&&t,n=r&&r.exports===o&&e.process,o=(()=>{try{return r&&r.require&&r.require("util").types||n&&n.binding&&n.binding("util")}catch(t){}})(),t.exports=o),Mi.exports;var t,e,r,n,o}function Li(){if(oi)return ni;oi=1;var t=(()=>{if(Ho)return Yo;Ho=1;var e=ko(),r=ti(),n=Q(),o={};return o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,Yo=function(t){return n(t)&&r(t.length)&&!!o[e(t)]}})(),e=ei(),r=Si(),e=(r=r&&r.isTypedArray)?e(r):t;return ni=e}function zi(){if(ai)return ii;ai=1;var f=fo?co:(fo=1,co=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}),l=Bo(),d=tt(),h=Ko(),p=Qo(),v=Li(),g=Object.prototype.hasOwnProperty;return ii=function(t,e){var r,n=d(t),o=!n&&l(t),i=!n&&!o&&h(t),a=!n&&!o&&!i&&v(t),u=n||o||i||a,s=u?f(t.length,String):[],c=s.length;for(r in t)!e&&!g.call(t,r)||u&&("length"==r||i&&("offset"==r||"parent"==r)||a&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||p(r,c))||s.push(r);return s}}function $i(){if(si)return ui;si=1;var r=Object.prototype;return ui=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}}function Ii(){return fi||(fi=1,ci=function(e,r){return function(t){return e(r(t))}}),ci}function Ni(){var n,o,i;return pi||(pi=1,n=$i(),o=(()=>{if(di)return li;di=1;var t=Ii()(Object.keys,Object);return li=t})(),i=Object.prototype.hasOwnProperty,hi=function(t){if(!n(t))return o(t);var e,r=[];for(e in Object(t))i.call(t,e)&&"constructor"!=e&&r.push(e);return r}),hi}function O(){if(gi)return vi;gi=1;var e=Ao(),r=ti();return vi=function(t){return null!=t&&r(t.length)&&!e(t)}}function et(){var e,r,n;return bi||(bi=1,e=zi(),r=Ni(),n=O(),yi=function(t){return(n(t)?e:r)(t)}),yi}function Fi(){var e,r,n,o,i,a,u;return ki||(ki=1,e=zi(),Ei||(Ei=1,o=K(),i=$i(),ji||(ji=1,mi=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}),a=mi,u=Object.prototype.hasOwnProperty,xi=function(t){if(!o(t))return a(t);var e,r=i(t),n=[];for(e in t)("constructor"!=e||!r&&u.call(t,e))&&n.push(e);return n}),r=xi,n=O(),Oi=function(t){return n(t)?e(t,!0):r(t)}),Oi}var Ti,Pi,Bi,Di,Ui,Wi,Vi,Ri,Gi,Zi,Yi,Hi,qi,Xi,Ji,Ki,Qi,ta,ea,ra,na,oa,ia,aa,ua,sa,ca,fa,la,da,ha,pa,va,ga,ya,ba,_a,wa,ma,ja,xa,Ea,Oa,ka,Aa,Ca,Ma,Sa,La,za,$a,Ia,Na,Fa,Ta,Pa,Ba,Da,Ua,Wa,Va,Ra,Ga,Za,Ya,Ha,qa,Xa,Ja,Ka,Qa,tu,eu,ru,nu,ou,iu,au,uu,su,cu,fu,lu,du,hu,pu,vu,gu,yu,bu,_u,wu,mu,ju,xu,Eu,Ou,ku,Au,Cu,Mu,Su,Lu,zu,$u,Iu,Nu,Fu,Tu,Pu,Bu,Du,Uu,Wu,Vu,Ru,Gu,Zu,Yu,Hu,qu,Xu,Ju,Ku,Qu,ts,es,rs,ns,os,is,as,us,ss,cs,fs,ls,ds,hs,ps,vs,gs,ys,bs,_s,ws,ms,js,xs,Es,Os,ks,As,Cs,Ms,Ss,Ls,zs,$s,Is,Ns,Fs,Ts,Ps,Bs,Ds,Us,Ws,Vs,Rs,Gs,Zs,Ys,Hs,qs,Xs,Js,Ks,Qs,tc,ec,rc,nc,oc,ic,ac,uc,sc,cc,fc,lc,dc,hc,pc,vc,gc,yc,bc,_c,wc,mc,jc,xc,Ec,Oc,kc,Ac,Cc,Mc,Sc,Lc,zc,$c,Ic,Nc,Fc,Tc,Pc,Bc,Dc,Uc,Wc,Vc,Rc,Gc,Zc,Yc,Hc,qc,Xc,Jc,Kc,Qc,tf,ef,rf,nf,of,af,uf,sf,cf,ff,lf,df,hf,pf,vf,gf,yf,bf,_f,wf,mf,jf,xf,Ef,Of,kf,Af,Cf={exports:{}};function Mf(){return Ui?Di:(Ui=1,Di=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i})}function Sf(){return Vi?Wi:(Vi=1,Wi=function(){return[]})}function Lf(){if(Gi)return Ri;Gi=1;var t=Mf(),e=Sf(),r=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols;return Ri=n?function(e){return null==e?[]:(e=Object(e),t(n(e),function(t){return r.call(e,t)}))}:e}function zf(){return qi?Hi:(qi=1,Hi=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t})}function $f(){if(Ji)return Xi;Ji=1;var t=Ii()(Object.getPrototypeOf,Object);return Xi=t}function If(){if(Qi)return Ki;Qi=1;var r=zf(),n=$f(),o=Lf(),t=Sf(),t=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=n(t);return e}:t;return Ki=t}function Nf(){var n,o;return na||(na=1,n=zf(),o=tt(),ra=function(t,e,r){return e=e(t),o(t)?e:n(e,r(t))}),ra}function Ff(){var e,r,n;return ia||(ia=1,e=Nf(),r=Lf(),n=et(),oa=function(t){return e(t,n,r)}),oa}function Tf(){if(ha)return da;ha=1;var t=m()(J(),"Set");return da=t}function Pf(){if(ya)return ga;ya=1;var t=(()=>{if(ca)return sa;ca=1;var t=m()(J(),"DataView");return sa=t})(),e=Mo(),r=(()=>{if(la)return fa;la=1;var t=m()(J(),"Promise");return fa=t})(),n=Tf(),o=(()=>{if(va)return pa;va=1;var t=m()(J(),"WeakMap");return pa=t})(),i=ko(),a=Co(),u="[object Map]",s="[object Promise]",c="[object Set]",f="[object WeakMap]",l="[object DataView]",d=a(t),h=a(e),p=a(r),v=a(n),g=a(o),y=i;return(t&&y(new t(new ArrayBuffer(1)))!=l||e&&y(new e)!=u||r&&y(r.resolve())!=s||n&&y(new n)!=c||o&&y(new o)!=f)&&(y=function(t){var e=i(t);if(t=(t="[object Object]"==e?t.constructor:void 0)?a(t):"")switch(t){case d:return l;case h:return u;case p:return s;case v:return c;case g:return f}return e}),ga=y}function Bf(){if(ma)return wa;ma=1;var t=J().Uint8Array;return wa=t}function Df(){if(xa)return ja;xa=1;var r=Bf();return ja=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}}function Uf(){if(Na)return Ia;Na=1;var e=K(),r=Object.create;function n(){}return Ia=function(t){return e(t)?r?r(t):(n.prototype=t,t=new n,n.prototype=void 0,t):{}}}function Wf(){return Ja?Xa:(Ja=1,Xa=function(t){return function(){return t}})}function Vf(){var r,n;return nu||(nu=1,r=(()=>{if(eu)return tu;eu=1,Qa||(Qa=1,Ka=function(s){return function(t,e,r){for(var n=-1,o=Object(t),i=r(t),a=i.length;a--;){var u=i[s?a:++n];if(!1===e(o[u],u,o))break}return t}});var t=Ka();return tu=t})(),n=et(),ru=function(t,e){return t&&r(t,e,n)}),ru}function Rf(){if(uu)return au;uu=1;var t=Vf(),t=(()=>{if(iu)return ou;iu=1;var u=O();return ou=function(i,a){return function(t,e){if(null!=t){if(!u(t))return i(t,e);for(var r=t.length,n=a?r:-1,o=Object(t);(a?n--:++n<r)&&!1!==e(o[n],n,o););}return t}}})()(t);return au=t}function Gf(){return cu?su:(cu=1,su=function(t){return t})}function Zf(){if(xu)return ju;xu=1;var n=zo(),t=_u?bu:(_u=1,bu=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}),e=mu?wu:(mu=1,wu=function(t){return this.__data__.has(t)});function r(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}return r.prototype.add=r.prototype.push=t,r.prototype.has=e,ju=r}function Yf(){return Au?ku:(Au=1,ku=function(t,e){return t.has(e)})}function Hf(){if(Mu)return Cu;Mu=1;var g=Zf(),y=Ou?Eu:(Ou=1,Eu=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}),b=Yf();return Cu=function(t,e,r,n,o,i){var a=1&r,u=t.length;if(u!=(s=e.length)&&!(a&&u<s))return!1;var s=i.get(t),c=i.get(e);if(s&&c)return s==e&&c==t;var f=-1,l=!0,d=2&r?new g:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var h,p=t[f],v=e[f];if(void 0!==(h=n?a?n(v,p,f,e,t,i):n(p,v,f,t,e,i):h)){if(h)continue;l=!1;break}if(d){if(!y(e,function(t,e){if(!b(d,e)&&(p===t||o(p,t,r,n,i)))return d.push(e)})){l=!1;break}}else if(p!==v&&!o(p,v,r,n,i)){l=!1;break}}return i.delete(t),i.delete(e),l}}function qf(){return $u?zu:($u=1,zu=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r})}function Xf(){var a,u,l,d,h,p,v,g,y,b,_,w,m,j,x,E,c,f,O,k,A,t,C;return Uu||(Uu=1,Bu||(Bu=1,l=$o(),d=Hf(),Nu||(Nu=1,t=Oo(),c=Bf(),f=mo(),O=Hf(),k=Lu?Su:(Lu=1,Su=function(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}),A=qf(),t=t?t.prototype:void 0,C=t?t.valueOf:void 0,Iu=function(t,e,r,n,o,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new c(t),new c(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=k;case"[object Set]":var s,u=u||A;return!!(t.size==e.size||1&n)&&((s=a.get(t))?s==e:(n|=2,a.set(t,e),s=O(u(t),u(e),n,o,i,a),a.delete(t),s));case"[object Symbol]":if(C)return C.call(t)==C.call(e)}return!1}),h=Iu,Tu||(Tu=1,x=Ff(),E=Object.prototype.hasOwnProperty,Fu=function(t,e,r,n,o,i){var a=1&r,u=x(t),s=u.length;if(s!=x(e).length&&!a)return!1;for(var c=s;c--;){var f=u[c];if(!(a?f in e:E.call(e,f)))return!1}var l=i.get(t),d=i.get(e);if(l&&d)return l==e&&d==t;var h=!0;i.set(t,e),i.set(e,t);for(var p=a;++c<s;){var v,g=t[f=u[c]],y=e[f];if(!(void 0===(v=n?a?n(y,g,f,e,t,i):n(g,y,f,t,e,i):v)?g===y||o(g,y,r,n,i):v)){h=!1;break}p=p||"constructor"==f}return h&&!p&&(l=t.constructor)!=(d=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof l&&l instanceof l&&"function"==typeof d&&d instanceof d)&&(h=!1),i.delete(t),i.delete(e),h}),p=Fu,v=Pf(),g=tt(),y=Ko(),b=Li(),_="[object Arguments]",w="[object Array]",m="[object Object]",j=Object.prototype.hasOwnProperty,Pu=function(t,e,r,n,o,i){var a=g(t),u=g(e),s=a?w:v(t),u=u?w:v(e),c=(s=s==_?m:s)==m,f=(u=u==_?m:u)==m;if((u=s==u)&&y(t)){if(!y(e))return!1;c=!(a=!0)}return u&&!c?(i=i||new l,a||b(t)?d(t,e,r,n,o,i):h(t,e,s,r,n,o,i)):1&r||(a=c&&j.call(t,"__wrapped__"),s=f&&j.call(e,"__wrapped__"),!a&&!s)?!!u&&(i=i||new l,p(t,e,r,n,o,i)):o(a?t.value():t,s?e.value():e,r,n,i=i||new l)}),a=Pu,u=Q(),Du=function t(e,r,n,o,i){return e===r||(null==e||null==r||!u(e)&&!u(r)?e!=e&&r!=r:a(e,r,n,o,t,i))}),Du}function Jf(){if(Gu)return Ru;Gu=1;var e=K();return Ru=function(t){return t==t&&!e(t)}}function Kf(){return qu||(qu=1,Hu=function(e,r){return function(t){return null!=t&&t[e]===r&&(void 0!==r||e in Object(t))}}),Hu}function Qf(){if(Qu)return Ku;Qu=1;var e=ko(),r=Q();return Ku=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==e(t)}}function tl(){var n,o,i,a;return es||(es=1,n=tt(),o=Qf(),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,ts=function(t,e){var r;return!n(t)&&(!("number"!=(r=typeof t)&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||a.test(t)||!i.test(t)||null!=e&&t in Object(e))}),ts}function el(){return cs?ss:(cs=1,ss=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o})}function rl(){var r,n,o,i;return vs||(vs=1,r=tt(),n=tl(),o=(()=>{if(us)return as;us=1,is||(is=1,r=(()=>{if(ns)return rs;ns=1;var t=zo();function e(n,o){if("function"!=typeof n||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");function i(){var t=arguments,e=o?o.apply(this,t):t[0],r=i.cache;return r.has(e)?r.get(e):(t=n.apply(this,t),i.cache=r.set(e,t)||r,t)}return i.cache=new(e.Cache||t),i}return e.Cache=t,rs=e})(),os=function(t){var e=(t=r(t,function(t){return 500===e.size&&e.clear(),t})).cache;return t});var r,e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,t=(t=os)(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(e,function(t,e,r,n){o.push(r?n.replace(i,"$1"):e||t)}),o});return as=t})(),i=(()=>{if(hs)return ds;hs=1,ls||(ls=1,t=Oo(),n=el(),o=tt(),i=Qf(),t=t?t.prototype:void 0,a=t?t.toString:void 0,fs=function t(e){var r;return"string"==typeof e?e:o(e)?n(e,t)+"":i(e)?a?a.call(e):"":"0"==(r=e+"")&&1/e==-1/0?"-0":r});var n,o,i,t,a,e=fs;return ds=function(t){return null==t?"":e(t)}})(),ps=function(t,e){return r(t)?t:n(t,e)?[t]:o(i(t))}),ps}function nl(){if(ys)return gs;ys=1;var r=Qf();return gs=function(t){var e;return"string"==typeof t||r(t)?t:"0"==(e=t+"")&&1/t==-1/0?"-0":e}}function ol(){var o,i;return _s||(_s=1,o=rl(),i=nl(),bs=function(t,e){for(var r=0,n=(e=o(e,t)).length;null!=t&&r<n;)t=t[i(e[r++])];return r&&r==n?t:void 0}),bs}function il(){var u,s,c,f,l,d;return Os||(Os=1,u=rl(),s=Bo(),c=tt(),f=Qo(),l=ti(),d=nl(),Es=function(t,e,r){for(var n=-1,o=(e=u(e,t)).length,i=!1;++n<o;){var a=d(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&l(o)&&f(a,o)&&(c(t)||s(t))}),Es}function al(){return Ls||(Ls=1,Ss=function(e){return function(t){return null==t?void 0:t[e]}}),Ss}function ul(){if(Ts)return Fs;Ts=1,Ju||(Ju=1,Vu||(Vu=1,h=$o(),p=Xf(),Wu=function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var s=(u=r[o])[0],c=t[s],f=u[1];if(a&&u[2]){if(void 0===c&&!(s in t))return!1}else{var l,d=new h;if(!(void 0===(l=n?n(c,f,s,t,e,d):l)?p(f,c,3,n,d):l))return!1}}return!0}),n=Wu,Yu||(Yu=1,i=Jf(),a=et(),Zu=function(t){for(var e=a(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,i(o)]}return e}),t=Zu,o=Kf(),Xu=function(e){var r=t(e);return 1==r.length&&r[0][2]?o(r[0][0],r[0][1]):function(t){return t===e||n(t,e,r)}});var n,t,o,i,a,h,p,u,s,c,e,f,l,d,r,v,g,y=Xu,b=(Ms||(Ms=1,u=Xf(),ms||(ms=1,g=ol(),ws=function(t,e,r){return void 0===(t=null==t?void 0:g(t,e))?r:t}),s=ws,As||(As=1,xs||(xs=1,js=function(t,e){return null!=t&&e in Object(t)}),r=js,v=il(),ks=function(t,e){return null!=t&&v(t,e,r)}),c=ks,e=tl(),f=Jf(),l=Kf(),d=nl(),Cs=function(r,n){return e(r)&&f(n)?l(d(r),n):function(t){var e=s(t,r);return void 0===e&&e===n?c(t,r):u(n,e,3)}}),Cs),_=Gf(),w=tt(),m=(()=>{if(Ns)return Is;Ns=1;var r,e=al(),n=($s||($s=1,r=ol(),zs=function(e){return function(t){return r(t,e)}}),zs),o=tl(),i=nl();return Is=function(t){return o(t)?e(i(t)):n(t)}})();return Fs=function(t){return"function"==typeof t?t:null==t?_:"object"==typeof t?w(t)?b(t[0],t[1]):y(t):m(t)}}try{sl={clone:(()=>{if(qa)return Ha;qa=1,Ya||(Ya=1,p=$o(),v=Io(),g=To(),wi||(wi=1,V=Po(),R=et(),_i=function(t,e){return t&&V(e,R(e),t)}),y=_i,Ci||(Ci=1,U=Po(),W=Fi(),Ai=function(t,e){return t&&U(e,W(e),t)}),b=Ai,Ti||(Ti=1,r=(t=Cf).exports,e=J(),n=(n=(r=r&&!r.nodeType&&r)&&t&&!t.nodeType&&t)&&n.exports===r?e.Buffer:void 0,o=n?n.allocUnsafe:void 0,t.exports=function(t,e){return e?t.slice():(e=t.length,e=o?o(e):new t.constructor(e),t.copy(e),e)}),_=Cf.exports,w=Bi?Pi:(Bi=1,Pi=function(t,e){var r=-1,n=t.length;for(e=e||Array(n);++r<n;)e[r]=t[r];return e}),Yi||(Yi=1,h=Po(),D=Lf(),Zi=function(t,e){return h(t,D(t),e)}),m=Zi,ea||(ea=1,l=Po(),d=If(),ta=function(t,e){return l(t,d(t),e)}),j=ta,x=Ff(),ua||(ua=1,s=Nf(),c=If(),f=Fi(),aa=function(t){return s(t,f,c)}),E=aa,O=Pf(),k=(()=>{if(_a)return ba;_a=1;var n=Object.prototype.hasOwnProperty;return ba=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}})(),$a||($a=1,G=Df(),Z=(()=>{if(Oa)return Ea;Oa=1;var r=Df();return Ea=function(t,e){return e=e?r(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.byteLength)}})(),Y=(()=>{if(Aa)return ka;Aa=1;var r=/\w*$/;return ka=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}})(),H=(()=>{if(Ma)return Ca;Ma=1;var t=Oo(),e=(t=t?t.prototype:void 0)?t.valueOf:void 0;return Ca=function(t){return e?Object(e.call(t)):{}}})(),q=(()=>{if(La)return Sa;La=1;var r=Df();return Sa=function(t,e){return e=e?r(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.length)}})(),za=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return G(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Z(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return q(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Y(t);case"[object Symbol]":return H(t)}}),A=za,Ta||(Ta=1,i=Uf(),a=$f(),u=$i(),Fa=function(t){return"function"!=typeof t.constructor||u(t)?{}:i(a(t))}),C=Fa,M=tt(),S=Ko(),L=(()=>{if(Ua)return Da;Ua=1;var t=(()=>{if(Ba)return Pa;Ba=1;var e=Pf(),r=Q();return Pa=function(t){return r(t)&&"[object Map]"==e(t)}})(),e=ei(),r=Si(),e=(r=r&&r.isMap)?e(r):t;return Da=e})(),z=K(),$=(()=>{if(Ga)return Ra;Ga=1;var t=(()=>{if(Va)return Wa;Va=1;var e=Pf(),r=Q();return Wa=function(t){return r(t)&&"[object Set]"==e(t)}})(),e=ei(),r=Si(),e=(r=r&&r.isSet)?e(r):t;return Ra=e})(),I=et(),N=Fi(),T="[object Function]",P="[object Object]",(B={})[F="[object Arguments]"]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object DataView]"]=B["[object Boolean]"]=B["[object Date]"]=B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Map]"]=B["[object Number]"]=B[P]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object Symbol]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Error]"]=B[T]=B["[object WeakMap]"]=!1,Za=function r(n,o,i,t,e,a){var u,s=1&o,c=2&o,f=4&o;if(void 0===(u=i?e?i(n,t,e,a):i(n):u)){if(!z(n))return n;if(t=M(n)){if(u=k(n),!s)return w(n,u)}else{var l=O(n),d=l==T||"[object GeneratorFunction]"==l;if(S(n))return _(n,s);if(l==P||l==F||d&&!e){if(u=c||d?{}:C(n),!s)return c?j(n,b(u,n)):m(n,y(u,n))}else{if(!B[l])return e?n:{};u=A(n,l,s)}}if(d=(a=a||new p).get(n))return d;a.set(n,u),$(n)?n.forEach(function(t){u.add(r(t,o,i,t,n,a))}):L(n)&&n.forEach(function(t,e){u.set(e,r(t,o,i,e,n,a))});var h=t?void 0:(f?c?E:x:c?N:I)(n);v(h||n,function(t,e){h&&(t=n[e=t]),g(u,e,r(t,o,i,e,n,a))})}return u});var t,e,r,n,o,p,v,g,y,b,_,w,m,j,x,E,O,k,A,C,M,S,L,z,$,I,N,F,T,P,B,i,a,u,s,c,f,l,d,h,D,U,W,V,R,G,Z,Y,H,q,X=Za;return Ha=function(t){return X(t,4)}})(),constant:Wf(),each:vu?pu:(vu=1,pu=(()=>{if(hu)return du;hu=1;var r=Io(),n=Rf(),o=(()=>{if(lu)return fu;lu=1;var e=Gf();return fu=function(t){return"function"==typeof t?t:e}})(),i=tt();return du=function(t,e){return(i(t)?r:n)(t,o(e))}})()),filter:(()=>{if(Bs)return Ps;Bs=1;var r=Mf(),n=(()=>{if(yu)return gu;yu=1;var e=Rf();return gu=function(t,n){var o=[];return e(t,function(t,e,r){n(t,e,r)&&o.push(t)}),o}})(),o=ul(),i=tt();return Ps=function(t,e){return(i(t)?r:n)(t,o(e,3))}})(),has:(Vs||(Vs=1,Us||(Us=1,Af=Object.prototype.hasOwnProperty,Ds=function(t,e){return null!=t&&Af.call(t,e)}),Of=Ds,kf=il(),Ws=function(t,e){return null!=t&&kf(t,e,Of)}),Ws),isArray:tt(),isEmpty:(()=>{if(Gs)return Rs;Gs=1;var n=Ni(),o=Pf(),i=Bo(),a=tt(),u=O(),s=Ko(),c=$i(),f=Li(),l=Object.prototype.hasOwnProperty;return Rs=function(t){if(null!=t){if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||f(t)||i(t)))return!t.length;var e,r=o(t);if("[object Map]"==r||"[object Set]"==r)return!t.size;if(c(t))return!n(t).length;for(e in t)if(l.call(t,e))return!1}return!0}})(),isFunction:Ao(),isUndefined:Ys?Zs:(Ys=1,Zs=function(t){return void 0===t}),keys:et(),map:(()=>{if(Js)return Xs;Js=1;var r=el(),n=ul(),o=(()=>{if(qs)return Hs;qs=1;var e=Rf(),r=O();return Hs=function(t,n){var o=-1,i=r(t)?Array(t.length):[];return e(t,function(t,e,r){i[++o]=n(t,e,r)}),i}})(),i=tt();return Xs=function(t,e){return(i(t)?r:o)(t,n(e,3))}})(),reduce:(nc||(nc=1,wf=Qs?Ks:(Qs=1,Ks=function(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}),mf=Rf(),jf=ul(),xf=ec?tc:(ec=1,tc=function(t,n,o,i,e){return e(t,function(t,e,r){o=i?(i=!1,t):n(o,t,e,r)}),o}),Ef=tt(),rc=function(t,e,r){var n=Ef(t)?wf:xf,o=arguments.length<3;return n(t,jf(e,4),r,o,mf)}),rc),size:(()=>{if(vc)return pc;vc=1;var r=Ni(),n=Pf(),o=O(),i=(()=>{if(ic)return oc;ic=1;var e=ko(),r=tt(),n=Q();return oc=function(t){return"string"==typeof t||!r(t)&&n(t)&&"[object String]"==e(t)}})(),a=(()=>{if(hc)return dc;hc=1;var e=(()=>{if(uc)return ac;uc=1;var t=al()("length");return ac=t})(),r=(()=>{if(cc)return sc;cc=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return sc=function(t){return e.test(t)}})(),n=(()=>{if(lc)return fc;lc=1;var t="\\ud800-\\udfff",e="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",a=(a="[\\ufe0e\\ufe0f]?")+(u="(?:"+r+"|"+n+")?")+"(?:\\u200d(?:"+[t="[^"+t+"]",o,i].join("|")+")"+a+u+")*",u="(?:"+[t+r+"?",r,o,i,e].join("|")+")",s=RegExp(n+"(?="+n+")|"+u+a,"g");return fc=function(t){for(var e=s.lastIndex=0;s.test(t);)++e;return e}})();return dc=function(t){return(r(t)?n:e)(t)}})();return pc=function(t){var e;return null==t?0:o(t)?i(t)?a(t):t.length:"[object Map]"==(e=n(t))||"[object Set]"==e?t.size:r(t).length}})(),transform:(yc||(yc=1,ff=Io(),lf=Uf(),df=Vf(),hf=ul(),pf=$f(),vf=tt(),gf=Ko(),yf=Ao(),bf=K(),_f=Li(),gc=function(t,n,o){var e,r=vf(t),i=r||gf(t)||_f(t);return n=hf(n,4),null==o&&(e=t&&t.constructor,o=i?r?new e:[]:bf(t)&&yf(e)?lf(pf(t)):{}),(i?ff:df)(t,function(t,e,r){return n(o,t,e,r)}),o}),gc),union:(()=>{if(ef)return tf;ef=1,mc||(mc=1,f=zf(),l=(()=>{if(_c)return bc;_c=1;var t=Oo(),e=Bo(),r=tt(),n=t?t.isConcatSpreadable:void 0;return bc=function(t){return r(t)||e(t)||!!(n&&t&&t[n])}})(),wc=function t(e,r,n,o,i){var a=-1,u=e.length;for(n=n||l,i=i||[];++a<u;){var s=e[a];0<r&&n(s)?1<r?t(s,r-1,n,o,i):f(i,s):o||(i[i.length]=s)}return i});var r,n,o,s,c,f,l,e=wc,t=($c||($c=1,r=Gf(),Oc||(Oc=1,xc||(xc=1,jc=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}),s=jc,c=Math.max,Ec=function(i,a,u){return a=c(void 0===a?i.length-1:a,0),function(){for(var t=arguments,e=-1,r=c(t.length-a,0),n=Array(r);++e<r;)n[e]=t[a+e];for(var e=-1,o=Array(a+1);++e<a;)o[e]=t[e];return o[a]=u(n),s(i,this,o)}}),n=Ec,o=(()=>{if(Lc)return Sc;Lc=1;var t=(()=>{if(Ac)return kc;Ac=1;var r=Wf(),n=No(),t=Gf();return kc=n?function(t,e){return n(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:t})();Mc||(Mc=1,i=Date.now,Cc=function(r){var n=0,o=0;return function(){var t=i(),e=16-(t-o);if(o=t,0<e){if(800<=++n)return arguments[0]}else n=0;return r.apply(void 0,arguments)}});var i,t=Cc(t);return Sc=t})(),zc=function(t,e){return o(n(t,e,r),t+"")}),zc),i=(()=>{if(Jc)return Xc;Jc=1;var h=Zf(),p=(()=>{if(Vc)return Wc;Vc=1;var r=(()=>{if(Uc)return Dc;Uc=1;var n=Nc?Ic:(Nc=1,Ic=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}),o=Tc?Fc:(Tc=1,Fc=function(t){return t!=t}),i=Bc?Pc:(Bc=1,Pc=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1});return Dc=function(t,e,r){return e==e?i(t,e,r):n(t,o,r)}})();return Wc=function(t,e){return!(null==t||!t.length)&&-1<r(t,e,0)}})(),v=Gc?Rc:(Gc=1,Rc=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}),g=Yf(),y=(()=>{if(qc)return Hc;qc=1;var e=Tf(),t=Yc?Zc:(Yc=1,Zc=function(){}),r=qf(),r=e&&1/r(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return Hc=r})(),b=qf();return Xc=function(t,e,r){var n=-1,o=p,i=t.length,a=!0,u=[],s=u;if(r)a=!1,o=v;else if(200<=i){var c=e?null:y(t);if(c)return b(c);a=!1,o=g,s=new h}else s=e?[]:u;t:for(;++n<i;){var f=t[n],l=e?e(f):f,f=r||0!==f?f:0;if(a&&l==l){for(var d=s.length;d--;)if(s[d]===l)continue t;e&&s.push(l),u.push(f)}else o(s,l,r)||(s!==u&&s.push(l),u.push(f))}return u}})(),a=(()=>{if(Qc)return Kc;Qc=1;var e=O(),r=Q();return Kc=function(t){return r(t)&&e(t)}})(),t=t(function(t){return i(e(t,1,a,!0))});return tf=t})(),values:(af||(af=1,nf||(nf=1,cf=el(),rf=function(e,t){return cf(t,function(t){return e[t]})}),uf=rf,sf=et(),of=function(t){return null==t?[]:uf(t,sf(t))}),of)}}catch(t){}var sl,k=s=sl=sl||window._,e=C,A="\0";function C(t){this._isDirected=!k.has(t,"directed")||t.directed,this._isMultigraph=!!k.has(t,"multigraph")&&t.multigraph,this._isCompound=!!k.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=k.constant(void 0),this._defaultEdgeLabelFn=k.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[A]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function cl(t,e){t[e]?t[e]++:t[e]=1}function fl(t,e){--t[e]||delete t[e]}function ll(t,e,r,n){return e=""+e,r=""+r,!t&&r<e&&(t=e,e=r,r=t),e+""+r+""+(k.isUndefined(n)?"\0":n)}function dl(t,e){return ll(t,e.v,e.w,e.name)}C.prototype._nodeCount=0,C.prototype._edgeCount=0,C.prototype.isDirected=function(){return this._isDirected},C.prototype.isMultigraph=function(){return this._isMultigraph},C.prototype.isCompound=function(){return this._isCompound},C.prototype.setGraph=function(t){return this._label=t,this},C.prototype.graph=function(){return this._label},C.prototype.setDefaultNodeLabel=function(t){return k.isFunction(t)||(t=k.constant(t)),this._defaultNodeLabelFn=t,this},C.prototype.nodeCount=function(){return this._nodeCount},C.prototype.nodes=function(){return k.keys(this._nodes)},C.prototype.sources=function(){var e=this;return k.filter(this.nodes(),function(t){return k.isEmpty(e._in[t])})},C.prototype.sinks=function(){var e=this;return k.filter(this.nodes(),function(t){return k.isEmpty(e._out[t])})},C.prototype.setNodes=function(t,e){var r=arguments,n=this;return k.each(t,function(t){1<r.length?n.setNode(t,e):n.setNode(t)}),this},C.prototype.setNode=function(t,e){return k.has(this._nodes,t)?1<arguments.length&&(this._nodes[t]=e):(this._nodes[t]=1<arguments.length?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=A,this._children[t]={},this._children[A][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount),this},C.prototype.node=function(t){return this._nodes[t]},C.prototype.hasNode=function(t){return k.has(this._nodes,t)},C.prototype.removeNode=function(t){var e,r=this;return k.has(this._nodes,t)&&(e=function(t){r.removeEdge(r._edgeObjs[t])},delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],k.each(this.children(t),function(t){r.setParent(t)}),delete this._children[t]),k.each(k.keys(this._in[t]),e),delete this._in[t],delete this._preds[t],k.each(k.keys(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount),this},C.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(k.isUndefined(e))e=A;else{for(var r=e+="";!k.isUndefined(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},C.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},C.prototype.parent=function(t){if(this._isCompound&&(t=this._parent[t])!==A)return t},C.prototype.children=function(t){var e;return k.isUndefined(t)&&(t=A),this._isCompound?(e=this._children[t])?k.keys(e):void 0:t===A?this.nodes():this.hasNode(t)?[]:void 0},C.prototype.predecessors=function(t){if(t=this._preds[t])return k.keys(t)},C.prototype.successors=function(t){if(t=this._sucs[t])return k.keys(t)},C.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return k.union(e,this.successors(t))},C.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},C.prototype.filterNodes=function(r){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound}),o=(n.setGraph(this.graph()),this),i=(k.each(this._nodes,function(t,e){r(e)&&n.setNode(e,t)}),k.each(this._edgeObjs,function(t){n.hasNode(t.v)&&n.hasNode(t.w)&&n.setEdge(t,o.edge(t))}),{});return this._isCompound&&k.each(n.nodes(),function(t){n.setParent(t,function t(e){var r=o.parent(e);return void 0===r||n.hasNode(r)?i[e]=r:r in i?i[r]:t(r)}(t))}),n},C.prototype.setDefaultEdgeLabel=function(t){return k.isFunction(t)||(t=k.constant(t)),this._defaultEdgeLabelFn=t,this},C.prototype.edgeCount=function(){return this._edgeCount},C.prototype.edges=function(){return k.values(this._edgeObjs)},C.prototype.setPath=function(t,r){var n=this,o=arguments;return k.reduce(t,function(t,e){return 1<o.length?n.setEdge(t,e,r):n.setEdge(t,e),e}),this},C.prototype.setEdge=function(){var t,e=!1,r=("object"==typeof(r=arguments[0])&&null!==r&&"v"in r?(i=r.v,a=r.w,t=r.name,2===arguments.length&&(n=arguments[1],e=!0)):(i=r,a=arguments[1],t=arguments[3],2<arguments.length&&(n=arguments[2],e=!0)),i=""+i,a=""+a,k.isUndefined(t)||(t=""+t),ll(this._isDirected,i,a,t));if(k.has(this._edgeLabels,r))e&&(this._edgeLabels[r]=n);else{if(!k.isUndefined(t)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(i),this.setNode(a),this._edgeLabels[r]=e?n:this._defaultEdgeLabelFn(i,a,t),n=""+i,o=""+a,!(e=this._isDirected)&&o<n&&(e=n,n=o,o=e),e={v:n,w:o},(o=t)&&(e.name=o);var n,o=e,i=o.v,a=o.w;Object.freeze(o),this._edgeObjs[r]=o,cl(this._preds[a],i),cl(this._sucs[i],a),this._in[a][r]=o,this._out[i][r]=o,this._edgeCount++}return this},C.prototype.edge=function(t,e,r){return t=1===arguments.length?dl(this._isDirected,t):ll(this._isDirected,t,e,r),this._edgeLabels[t]},C.prototype.hasEdge=function(t,e,r){return t=1===arguments.length?dl(this._isDirected,t):ll(this._isDirected,t,e,r),k.has(this._edgeLabels,t)},C.prototype.removeEdge=function(t,e,r){var r=1===arguments.length?dl(this._isDirected,arguments[0]):ll(this._isDirected,t,e,r),n=this._edgeObjs[r];return n&&(t=n.v,e=n.w,delete this._edgeLabels[r],delete this._edgeObjs[r],fl(this._preds[e],t),fl(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},C.prototype.inEdges=function(t,e){if(t=this._in[t])return t=k.values(t),e?k.filter(t,function(t){return t.v===e}):t},C.prototype.outEdges=function(t,e){if(t=this._out[t])return t=k.values(t),e?k.filter(t,function(t){return t.w===e}):t},C.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))};var hl={Graph:e,version:"2.1.8"},M=s,pl=e,a={write:function(t){var n,o,e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:(o=t,M.map(o.nodes(),function(t){var e=o.node(t),r=o.parent(t),t={v:t};return M.isUndefined(e)||(t.value=e),M.isUndefined(r)||(t.parent=r),t})),edges:(n=t,M.map(n.edges(),function(t){var e=n.edge(t),r={v:t.v,w:t.w};return M.isUndefined(t.name)||(r.name=t.name),M.isUndefined(e)||(r.value=e),r}))};return M.isUndefined(t.graph())||(e.value=M.clone(t.graph())),e},read:function(t){var e=new pl(t.options).setGraph(t.value);return M.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),M.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}},vl=s,gl=s,i=S;function S(){this._arr=[],this._keyIndices={}}function yl(e,t,r,n){var o=e,i=String(t),a=r||wl,u=n||function(t){return e.outEdges(t)};function s(t){var e=t.v!==c?t.v:t.w,r=l[e],n=a(t),o=f.distance+n;if(n<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+n);o<r.distance&&(r.distance=o,r.predecessor=c,d.decrease(e,o))}var c,f,l={},d=new _l;for(o.nodes().forEach(function(t){var e=t===i?0:Number.POSITIVE_INFINITY;l[t]={distance:e},d.add(t,e)});0<d.size()&&(c=d.removeMin(),(f=l[c]).distance!==Number.POSITIVE_INFINITY);)u(c).forEach(s);return l}function bl(i){var a=0,u=[],s={},c=[];return i.nodes().forEach(function(t){xl.has(s,t)||function e(t){var r=s[t]={onStack:!0,lowlink:a,index:a++};if(u.push(t),i.successors(t).forEach(function(t){xl.has(s,t)?s[t].onStack&&(r.lowlink=Math.min(r.lowlink,s[t].index)):(e(t),r.lowlink=Math.min(r.lowlink,s[t].lowlink))}),r.lowlink===r.index){for(var n,o=[];n=u.pop(),s[n].onStack=!1,o.push(n),t!==n;);c.push(o)}}(t)}),c}S.prototype.size=function(){return this._arr.length},S.prototype.keys=function(){return this._arr.map(function(t){return t.key})},S.prototype.has=function(t){return gl.has(this._keyIndices,t)},S.prototype.priority=function(t){if(void 0!==(t=this._keyIndices[t]))return this._arr[t].priority},S.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},S.prototype.add=function(t,e){var r,n,o=this._keyIndices;return t=String(t),!gl.has(o,t)&&(n=(r=this._arr).length,o[t]=n,r.push({key:t,priority:e}),this._decrease(n),!0)},S.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},S.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)},S.prototype._heapify=function(t){var e=this._arr,r=2*t,n=1+r,o=t;r<e.length&&(o=e[r].priority<e[o].priority?r:o,(o=n<e.length&&e[n].priority<e[o].priority?n:o)!==t)&&(this._swap(t,o),this._heapify(o))},S.prototype._decrease=function(t){for(var e,r=this._arr,n=r[t].priority;0!==t&&!(r[e=t>>1].priority<n);)this._swap(t,e),t=e},S.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,o=r[t],i=r[e];r[t]=i,r[e]=o,n[i.key]=t,n[o.key]=e};var _l=i,wl=s.constant(1),ml=yl,jl=s,xl=s,El=s,Ol=bl,kl=s.constant(1),Al=s,n=Cl;function Cl(r){var n={},o={},i=[];if(Al.each(r.sinks(),function t(e){if(Al.has(o,e))throw new Ml;Al.has(n,e)||(o[e]=!0,n[e]=!0,Al.each(r.predecessors(e),t),delete o[e],i.push(e))}),Al.size(n)!==r.nodeCount())throw new Ml;return i}function Ml(){}function Sl(e,t,r){zl.isArray(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],i={};return zl.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(r,t,n,o,i,a){zl.has(o,t)||(o[t]=!0,n||a.push(t),zl.each(i(t),function(t){e(r,t,n,o,i,a)}),n&&a.push(t))}(e,t,"post"===r,i,n,o)}),o}(Cl.CycleException=Ml).prototype=new Error;var Ll=n,zl=s,$l=Sl,Il=Sl,Nl=s,Fl=e,Tl=i,Pl={Graph:hl.Graph,json:a,alg:{components:function(e){var r,n={},o=[];function i(t){vl.has(n,t)||(n[t]=!0,r.push(t),vl.each(e.successors(t),i),vl.each(e.predecessors(t),i))}return vl.each(e.nodes(),function(t){r=[],i(t),r.length&&o.push(r)}),o},dijkstra:yl,dijkstraAll:function(r,n,o){return jl.transform(r.nodes(),function(t,e){t[e]=ml(r,e,n,o)},{})},findCycles:function(e){return El.filter(Ol(e),function(t){return 1<t.length||1===t.length&&e.hasEdge(t[0],t[0])})},floydWarshall:function(e,t,r){return n=t||kl,o=r||function(t){return e.outEdges(t)},a={},(u=e.nodes()).forEach(function(r){a[r]={},a[r][r]={distance:0},u.forEach(function(t){r!==t&&(a[r][t]={distance:Number.POSITIVE_INFINITY})}),o(r).forEach(function(t){var e=t.v===r?t.w:t.v,t=n(t);a[r][e]={distance:t,predecessor:r}})}),u.forEach(function(o){var i=a[o];u.forEach(function(t){var n=a[t];u.forEach(function(t){var e=n[o],r=i[t],t=n[t];(e=e.distance+r.distance)<t.distance&&(t.distance=e,t.predecessor=r.predecessor)})})}),a;var n,o,a,u},isAcyclic:function(t){try{Ll(t)}catch(t){if(t instanceof Ll.CycleException)return!1;throw t}return!0},postorder:function(t,e){return $l(t,e,"post")},preorder:function(t,e){return Il(t,e,"pre")},prim:function(t,n){var o,e=new Fl,i={},a=new Tl;function r(t){var e=t.v===o?t.w:t.v,r=a.priority(e);void 0!==r&&(t=n(t))<r&&(i[e]=o,a.decrease(e,t))}if(0!==t.nodeCount()){Nl.each(t.nodes(),function(t){a.add(t,Number.POSITIVE_INFINITY),e.setNode(t)}),a.decrease(t.nodes()[0],0);for(var u=!1;0<a.size();){if(o=a.removeMin(),Nl.has(i,o))e.setEdge(o,i[o]);else{if(u)throw new Error("Input graph is not connected: "+t);u=!0}t.nodeEdges(o).forEach(r)}}return e},tarjan:bl,topsort:n},version:hl.version};function Bl(t,e,r){let n=0;return 0<r&&(n+=yr(t,e[r-1],e[r])),r+1<e.length&&(n+=yr(t,e[r],e[r+1])),n}function Dl(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Ul(t){var e,r=Math.floor(t.length/2);return 0===t.length?-1:t.length%2==1?t[r]:2===t.length?(t[0]+t[1])/2:(t[r-1]*(e=t[t.length-1]-t[r])+t[r]*(r=t[r-1]-t[0]))/(r+e)}function Wl(r,t,e,n,o,i=!1){let a=t[e],u=t[n],s=[];return u.forEach((t,e)=>{0<r.nodeEdges(t,o).length&&s.push(e)}),0===s.length&&i&&a.forEach((t,e)=>{0<r.nodeEdges(t,o).length&&s.push(e+.5)}),s.sort((t,e)=>t-e),s}function Vl(o,i){var a=new Map(o.map((t,e)=>[t,e]));for(let t=1;t<o.length;++t)for(let n=t;0<n;--n){let t=n-1,e=i.get(o[t]),r=i.get(o[n]);for(;-1===(e=i.get(o[t]))&&0<t;)t--;if(-1===r||-1===e)break;if(e===r&&(e=a.get(o[t]),r=a.get(o[n])),r>=e)break;[o[n],o[t]]=[o[t],o[n]]}}function Rl(e,r){let n=0;for(let t=0;t<r.length-1;++t)n+=yr(e,r[t],r[t+1]);return n}function Gl(o,i,a){o.nodes().forEach(t=>{let e=w(o.inEdges(t),t=>i(o.edge(t))),r=w(o.outEdges(t),t=>i(o.edge(t))),n=o.node(t);n||o.setNode(t,n={}),n.value=Math.max(e,r),void 0===n.direction&&(n.direction=a(n)||"r")})}function Zl(r,t){if(0===t.length||0===t[0].length)return[];let e=t[0].length,n=new Array(e);for(let t=0;t<e;t++)n[t]=0;return t.forEach(t=>{t.forEach((t,e)=>{t=w(t,t=>r.node(t).value),n[e]=Math.max(n[e],t)})}),n}function Yl(t,e){return t<e}let Hl=(u=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}).__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;function ql(e,r,n,o,i,a=0){n.has(r)||(n.add(r),i.push(r),o.setNode(r,{depth:a}),e.outEdges(r).map(t=>t.w).forEach(t=>{n.has(t)||o.setEdge(r,t,{delta:1}),ql(e,t,n,o,i,a+1)}))}function Xl(r,t){if(0!==r.nodes().length){let a=((i,t)=>{let a=new Pl.Graph({directed:!0}),e=!1;for(var r of t)if("min"===r.type){e=!0;break}var n;e||(t=0<(n=i.sources()).length?[{nodes:[n[0]],type:"min"},...t]:[{nodes:[i.nodes()[0]],type:"min"},...t]);let u=new Map,o=0;return t.forEach(t=>{if(t.nodes&&0!==t.nodes.length){let e=""+o++;t.nodes.forEach(t=>{u.set(t,e)}),a.setNode(e,{nodes:t.nodes,type:t.type})}}),i.nodes().forEach(t=>{var e,r;u.has(t)||(e=""+o++,r={nodes:[t],type:"same"},u.set(t,e),a.setNode(e,r))}),i.edges().forEach(t=>{var e=u.has(t.v)?u.get(t.v):t.v,r=u.has(t.w)?u.get(t.w):t.w,n=i.node(t.v)||{},t=i.node(t.w)||{},o=a.edge(e,r)||{delta:0};e===r?(o.delta=0,a.setEdge(e,r,o)):"l"===n.direction?(o.delta=Math.max(o.delta,"l"===t.direction?1:0),a.setEdge(r,e,o)):(o.delta=Math.max(o.delta,"l"===t.direction?0:1),a.setEdge(e,r,o))}),a})(r,t);(e=a).sources().forEach(t=>{"0"!==t&&e.setEdge("0",t,{delta:0,temp:!0})});{var n=a;let r=(e=>{let r=new Set,n=new Pl.Graph({directed:!0}),o=[];if(e.hasNode("0"))return ql(e,"0",r,n,o),e.nodes().forEach(t=>{r.has(t)||ql(e,t,r,n,o)}),o.forEach((t,e)=>{n.node(t).thread=e+1<o.length?o[e+1]:o[0]}),n;throw Error("node not in graph")})(n,t="0");n.edges().forEach(t=>{var e;((e,r,n)=>{var o=e.node(r),i=e.node(n);if(o.depth<i.depth){let t=o.thread;for(;e.node(t).depth>o.depth;){if(t===n)return 1;t=e.node(t).thread}}else if(i.depth<o.depth){let t=i.thread;for(;e.node(t).depth>i.depth;){if(t===r)return-1;t=e.node(t).thread}}return 0})(r,t.v,t.w)<0&&((e=n.edge(t)||{}).reversed=!0,n.removeEdge(t),n.setEdge(t.w,t.v,e))})}{let e=a,r,n=e.sources(),o=new Set,i=new Set;for(e.edges().forEach(t=>{t.v===t.w&&i.add(t)});0<n.length;){var u,s,c,f=n.shift();o.add(f);let t=e.node(f);t||e.setNode(f,t={}),t.rank=0;for(u of e.inEdges(f)){var l=Hl(null==(r=e.edge(u)||{})?void 0:r.delta,1);t.rank=Math.max(t.rank,e.node(u.v).rank+l)}for(s of e.outEdges(f))i.add(s);for(c of e.nodes())n.indexOf(c)<0&&!o.has(c)&&!e.inEdges(c).some(t=>!i.has(t))&&n.push(c)}}var o,e;(o=a).edges().forEach(t=>{var e;o.edge(t).temp&&(t=t.w,e=o.node(t),void 0!==(t=(t=>{if(t&&t.length){for(var e=t,r=lr,n=Yl,o=-1,i=e.length;++o<i;){var a,u,s=e[o],c=r(s);null!=c&&(void 0===a?c==c&&!V(c):n(c,a))&&(a=c,u=s)}return u}})(o.outEdges(t).map(t=>o.node(t.w).rank-o.edge(t).delta))))&&(e.rank=t)}),r.nodes().forEach(t=>{r.node(t)||r.setNode(t,{})}),a.nodes().forEach(t=>{let e=a.node(t);e.nodes.forEach(t=>{r.node(t).rank=e.rank})})}}let Jl=["#ACD5FC","#E37816","#07CC80","#0871D4","#CB8E55","#9FAE29","#427565","#6D55A6","#FEF445","#E177C2","#F48B7B","#D74B05","#AA896F","#14A14D","#C5114D"],Kl=t=>0===t.dy?0:2;class Ql extends class{constructor(t,e){this.element=t,this.options=e,this.canvas=E.SVG().addTo(t).size("100%","100%").viewbox(`-${this.spacing} -${this.spacing+this.getYShift()} ${this.width+2*this.spacing} `+(this.height+this.spacing+this.getYShift())).attr({style:this.options.canvasStyle})}getYShift(){return this.options.enableToolbar?30:0}add(t){this.canvas.add(t)}clear(){this.canvas.clear().viewbox(`-${this.spacing} -${this.spacing+this.getYShift()} ${this.width+2*this.spacing} `+(this.height+this.spacing+this.getYShift()))}resetViewBox(){this.canvas.viewbox(`-${this.spacing} -${this.spacing+this.getYShift()} ${this.width+2*this.spacing} `+(this.height+this.spacing+this.getYShift()))}updateViewBox(t,e,r,n){this.canvas.viewbox(t+` ${e} ${r} `+n)}get height(){return this.options.viewPortHeight}get spacing(){return this.options.spacing}get width(){return this.options.viewPortWidth}}{construct(t){var{nodeWidth:e,spacing:r,viewPortHeight:n,viewPortWidth:o}=this.options,i=(t=>{let c=(()=>{function c(t){return t.data.value}function f(t){return t.data?t.data.direction:"r"}let p=[100,100],l=null,v=.5,g=function(t,e,r){return 1};function y(d,t){var e,r,n;null===l&&y.scaleToFit(d,t),Gl(d,c,f),e=d,r=c,n=l,e.nodes().forEach(t=>{(t=e.node(t)).dy=t.value*n}),e.edges().forEach(t=>{(t=e.edge(t)).value=r(t),t.dy=t.value*n});let h=Zl(d,t);t.forEach(t=>{let l=0;t.forEach((r,t)=>{let e=h[t]/w(h)*p[1],n=0===l?0:v*e/5,o=e-2*n,i=w(r,t=>d.node(t).dy),a=r.map((t,e)=>d.node(t).value&&r[e+1]?g(r[e],r[e+1],d):0),u=Math.max(0,o-i),s=w(a)?u/w(a):0,c=l+n,f=(1===r.length&&(c+=(o-d.node(r[0]).dy)/2),Number.MAX_VALUE);r.forEach((t,e)=>{(t=d.node(t)).y=c,t.spaceAbove=f,t.spaceBelow=a[e]*s,c+=t.dy+t.spaceBelow,f=t.spaceBelow,t.data&&void 0!==t.data.forceY&&(t.y=n+t.data.forceY*(o-t.dy))}),0<r.length&&(d.node(r[r.length-1]).spaceBelow=Number.MAX_VALUE),l+=e})});var i=((n,r)=>{let o=[];return r.forEach((t,e)=>{if(e!==r.length-1){let r=0;t.forEach(t=>{t.forEach(t=>{n.outEdges(t).forEach(t=>{var e=n.edge(t).dy,t=n.node(t.w).y-n.node(t.v).y;(t=0<=(t=e*e-(t=Math.abs(t)-e)*t)?Math.sqrt(t):e)>r&&(r=t)})})}),o.push(r)}}),o})(d,t);{var a=d,u=t,s=p[0];let r=w(t=i),n;if(r>s)n=t.map(t=>s*t/r);else{let e=s-r;n=t.map(t=>t+e/(u.length-1))}let o=0;u.forEach((t,e)=>{t.forEach(t=>{t.forEach(t=>{a.node(t).x=o})}),o+=n[e]})}let o=[];return d.nodes().forEach(t=>{var e=d.node(t);e.id=t,o.push(e)}),o}return y.scaleToFit=function(t,e){Gl(t,c,f),(t=w(Zl(t,e)))<=0?l=1:(l=p[1]/t,1!==v&&(l*=1-v))},y.size=function(t){return arguments.length?(p=t,y):p},y.separation=function(t){return arguments.length?(g=Et(t)?t:()=>t,y):g},y.whitespace=function(t){return arguments.length?(v=t,y):v},y.scale=function(t){return arguments.length?(l=t,y):l},y})(),f=(h=t,[]),l=[],d=null;var h;function e(t=[],e=[],r={}){let n=((t=[],e=[])=>{let r=new Pl.Graph({directed:!0,multigraph:!0});return e.forEach(t=>{r.setEdge(t.source,t.target,{data:t,points:[]},t.type)}),r.nodes().forEach(t=>r.setNode(t,{data:{}})),t.forEach(t=>{r.hasNode(t.id)&&void 0!==(r.node(t.id).data=t).direction&&(r.node(t.id).direction=t.direction)}),r.edges().forEach(t=>{r.edge(t).source=r.node(t.v),r.edge(t).target=r.node(t.w)}),r})(e,t);var a,o,u,i,s;return d=r.order?(Xl(n,r.rankSets||[]),(d=0<(d=r.order).length&&0<d[0].length&&!p(d[0][0])?d.map(t=>[t]):d).map(t=>t.map(t=>t.filter(t=>void 0!==n.node(t))))):(Xl(n,r.rankSets||[]),(a=n).edges().forEach(t=>{let e=a.node(t.v),r=a.node(t.w),n=a.edge(t),o=e.rank,i=[];if(o+1<=r.rank){for("l"===e.direction&&i.push(o);++o<r.rank;)i.push(o);"l"===r.direction&&i.push(o),gr(a,t,n,i,"r")}else if(o>r.rank){for("l"!==e.direction&&i.push(o);o-- >r.rank+1;)i.push(o);"l"!==r.direction&&i.push(o),gr(a,t,n,i,"l")}}),(t=>{var i=(r=>{let n=[],t=r.nodes().filter(t=>0===r.node(t).rank).concat(r.sources());return 0===t.length&&(t=r.nodes().slice(0,1)),Pl.alg.preorder(r,t).forEach(t=>{for(var e=r.node(t).rank;e>=n.length;)n.push([]);n[e].push(t)}),n})(t);let e=i,r=0;for(;r++<25;){((o,i)=>{if(0<(r%2==0?1:0))for(let n=1;n<i.length;++n){let r=new Map;i[n].forEach(t=>{var e=Ul(Wl(o,i,n,n-1,t,!1));r.set(t,e)}),Vl(i[n],r)}else for(let n=i.length-2;0<=n;--n){let r=new Map;i[n].forEach(t=>{var e=Ul(Wl(o,i,n,n+1,t,!1));r.set(t,e)}),Vl(i[n],r)}})(t,i);{let r=t,n=i,o=!0;for(;o;){o=!1;for(let e=0;e<n.length;++e)for(let t=0;t<n[e].length-1;++t){var a=Bl(r,n,e);Dl(n[e],t,t+1),Bl(r,n,e)<a?o=!0:Dl(n[e],t,t+1)}}}Rl(t,i)<Rl(t,e)&&(e=(()=>{var t,e=[];for(t of i){var r,n=[];e.push(n);for(r of t)n.push(r)}return e})())}return e=e.map(t=>[t])})(n)),f=c(n,d),[i,s]=[n,r.alignLinkTypes||!1],i.nodes().forEach(t=>{var e=i.node(t);e.incoming=i.inEdges(t),e.outgoing=i.outEdges(t),s?(t=((n,o)=>{let t=n.inEdges(o),e=n.outEdges(o),r=new Map;[...t,...e].forEach(t=>{r.has(t.name)||r.set(t.name,[]),r.get(t.name).push(t)});var i=new Map(Array.from(r.entries()).map(([t,e])=>{var r=w(e,t=>n.edge(t).value);return[t,w(e,t=>n.edge(t).value*(t=>{if(t.v===o)return n.node(t.w).y;if(t.w===o)return n.node(t.v).y;throw new Error})(t))/r]}));return(i=Array.from(i.keys())).sort(),i})(i,t),e.incoming.sort(hr(i,t,!1)),e.outgoing.sort(hr(i,t,!0))):(e.incoming.sort(dr(i,!1)),e.outgoing.sort(dr(i,!0)))}),l=(r=>{var n,o,i=h;(o=r).nodes().forEach(t=>{let e=o.node(t),r=0,n=0;e.outgoing.forEach(t=>{(t=o.edge(t)).x0=e.x+i.nodeWidth/2,t.y0=e.y+r+t.dy/2,t.d0=e.direction||"r",r+=t.dy}),e.incoming.forEach(t=>{(t=o.edge(t)).x1=e.x-i.nodeWidth/2,t.y1=e.y+n+t.dy/2,t.d1=e.direction||"r",n+=t.dy})}),(n=r).nodes().forEach(t=>{var e=(t=n.node(t)).outgoing.map(t=>n.edge(t)),t=t.incoming.map(t=>n.edge(t));e.sort((t,e)=>t.y0-e.y0),t.sort((t,e)=>t.y1-e.y1),vr(e,"r0"),vr(t,"r1")});let a=[];return r.edges().forEach(t=>{var e=r.edge(t);e.id=t.v+`-${t.w}-`+t.name,a.push(e)}),a})(n),(u=n).nodes().filter(t=>t.startsWith("__")).forEach(n=>{let o,i=u.node(n);if(i){let t=(null==(o=u.inEdges(n))?void 0:o.map(t=>u.edge(t)))||[];t.forEach(t=>{t.origLabel.dy=t.dy,t.origLabel.x0=t.x0,t.origLabel.y0=t.y0,t.origLabel.r0=t.r0,t.origLabel.d0=t.d0,t.origLabel.value=t.value,u.setEdge(t.origEdge,t.origLabel)});let e,r=t.map(t=>t.r1);for(;i.dummy;)(t=u.outEdges(n).map(t=>u.edge(t))).forEach((t,e)=>{t.origLabel.points||(t.origLabel.points=[]),t.origLabel.points.push({d:t.d0,r0:t.r0,r1:r[e],x:i.x,y:t.y0})}),r=t.map(t=>t.r1),e=u.successors(n)[0],u.removeNode(n),i=u.node(n=e);t.forEach(t=>{t.origLabel.x1=t.x1,t.origLabel.y1=t.y1,t.origLabel.r1=t.r1,t.origLabel.d1=t.d1})}}),(o=n).edges().forEach(t=>{(t=o.edge(t)).points.unshift({d:t.d0,ro:t.r0,x:t.x0,y:t.y0}),t.points.push({d:t.d1,ri:t.r1,x:t.x1,y:t.y1})}),n}return e.nodes=function(){return f},e.links=function(){return l},e.order=function(){return d},e.size=function(t){return arguments.length?(c.size(t),e):c.size()},e.separation=function(t){return arguments.length?(c.separation(t),e):c.separation()},e.whitespace=function(t){return arguments.length?(c.whitespace(t),e):c.whitespace()},e.edgeValue=function(t){return e},e.scale=function(t){return arguments.length?(c.scale(t),e):c.scale()},e})({nodeWidth:e}),o=(i.size([o-e,n-r]),t.nodes.map((t,e)=>(e%=Jl.length,{...t,color:t.color??Jl[e],colorIndex:e}))),e=i(t.edges,o,t.options);this.maxRank=i.order().length-1,this.graph=e}render({keepOldPosition:t=!1}={}){let e,r,{enableTooltip:n,fontColor:o,fontFamily:i,fontSize:a,fontWeight:u,nodeBorderColor:s,nodeBorderWidth:c,nodeWidth:f,onNodeClick:l,tooltipId:d}=this.options,h=this.canvas.viewbox();this.clear();var p=ft({color:o,fontFamily:i,fontSize:a,fontWeight:u}),v=lt(f/2,0);v.attr("style",p);let g=(null==(e=this.graph)?void 0:e.nodes())||[],y=(null==(r=this.graph)?void 0:r.edges())||[],b=lt(),_=(y.forEach(t=>{this.renderEdge(t,b)}),v.add(b),lt());g.forEach(t=>{(t=this.graph.node(t)).dummy||(t=((t,e,r)=>{let n,o,{dy:i,x:a,y:u}=t,{fontColor:s,fontSize:c,nodeBorderColor:f,nodeBorderWidth:l,nodeWidth:d,onNodeClick:h}=r,p=new E.G({class:"node"}),v=([{borderColor:r="#caced0",color:g="#97cbe6",height:x=0,opacity:y=1,radius:b=0,width:_=0,x:w,y:m=0}]=[{height:i,width:d,x:a-d/2,y:u}],(j=new E.Rect).attr({height:x,opacity:y,rx:b,ry:b,width:_,x:w,y:m}),j.fill(g),j.stroke({color:r,width:1}),j);var g,y,b,_,w,m,j,x;return v.fill(null==(n=t.data)?void 0:n.color),v.stroke({color:f??(null==(o=t.data)?void 0:o.color),width:l}),v.on("click",()=>{"function"==typeof h&&h(t)}),p.add(v),t.data&&i>Number.parseInt(c,10)&&(x=((r,{fontColor:t,maxRank:n,nodeWidth:e})=>{var o,i,a,u=r.data,s=(()=>{let t=!1,e=!1;return r.rank<n/2&&(e=!0,t=!1),{right:e,top:t}})(),{x:c,y:f}=(a=s.top?-25:r.dy/2-10,e=s.top?s.right?4:-4:s.right?10+e/2:-e/2-10,{x:(i=r).x+e,y:r.y+a});return[e="",{fontColor:i="#666767",pointerEvents:a,textAnchor:t,x:o,y:u}]=[(u=void 0!==u.title?u.title:u.id,(o=s.top?25:15)&&u.length>o?u.substr(0,15)+"...":u),{fontColor:t,pointerEvents:"none",textAnchor:s.top?"middle":s.right?"start":"end",x:c,y:f}],(s=new E.Text).font({fill:i}),s.tspan(e),void 0!==o&&void 0!==u&&s.move(o,u),s.attr({"pointer-events":a,"text-anchor":t}),s})(t,{fontColor:s,maxRank:e,nodeWidth:d}),p.add(x)),p})(t,this.maxRank,{fontColor:o,fontSize:a,nodeBorderColor:s,nodeBorderWidth:c,nodeWidth:f,onNodeClick:l}),_.add(t))}),v.add(_),this.add(v),t&&this.updateViewBox(h.x,h.y,h.width,h.height),n&&([p="apex-tooltip-container"]=[d],(v=document.getElementById(p)||document.createElement("div")).id=p,t=v,(document.body||document.getElementsByTagName("body")[0]).append(t))}renderEdge(t,e){let{edgeGradientFill:r,edgeOpacity:n,enableTooltip:o,fontColor:c,fontFamily:f,fontSize:l,fontWeight:d,nodeWidth:i,tooltipBGColor:h,tooltipBorderColor:p,tooltipId:v,tooltipTemplate:a}=this.options,u=this.graph.edge(t.v,t.w,t.name),s=this.graph.node(t.v),g=this.graph.node(t.w),y=u.source,b=u.target;s.dummy&&(u.x0-=i/2),g.dummy&&(u.x1+=i/2),[t,{edgeColor:_,id:m,opacity:w=1}]=[(e=>{var t,r;if(1===(null==(t=e.points)?void 0:t.length))return r=(t=e).points[0],t=Math.max(Kl(t),t.dy)/2,"down-right"===r.style?`M${[r.x-20,r.y-t]} L${[r.x,r.y-t]} L${[r.x,r.y+t]} L${[r.x-20,r.y+t]} Z`:"right-down"===r.style?`M${[r.x,r.y-t]} L${[r.x+20,r.y-t]} L${[r.x+20,r.y+t]} L${[r.x,r.y+t]} Z`:null;let n,o="";for(let t=0;t<e.points.length-1;++t)n={d0:e.points[t].d,d1:e.points[t+1].d,dy:e.dy,r0:e.points[t].ro,r1:e.points[t+1].ri,x0:e.points[t].x,x1:e.points[t+1].x,y0:e.points[t].y,y1:e.points[t+1].y},o+=(t=>{let n=Math.max(Kl(t),t.dy)/2,e=t.x0,r=t.x1,o=t.y0,i=t.y1;r<e&&([e,r]=[r,e],[o,i]=[i,o]);var a=i>o?1:-1,u=[t.dy/2,((u=t.x1-t.x0)*u+(s=t.y1-t.y0)*s)/Math.abs(4*s)],s=Math.max(u[0],Math.min(u[1],(r-e)/3));let c=Math.max(u[0],Math.min(u[1],t.r0||s)),f=Math.max(u[0],Math.min(u[1],t.r1||s)),l=(u=r-e,t=i-o-a*(c+f),s=Math.sqrt(u*u+t*t),s=-a*Math.acos(Math.min(1,(c+f)/s)),t=Math.atan2(t,u),Math.PI/2+a*(t+s)),d=n*a*Math.sin(l),h=n*Math.cos(l),p=e+ +c*Math.sin(Math.abs(l)),v=r-+f*Math.sin(Math.abs(l)),g=o+c*a*(1-Math.cos(l)),y=i-f*a*(1-Math.cos(l));function b(t,e){var r=0<t*(i-o)?1:0,t=0<+t*(i-o)?e+n:e-n;return`A${t=0===l?e:t} ${t} ${Math.abs(l)} 0 ${r} `}return(("number"==typeof(u=l)||x(u)&&"[object Number]"==j(u))&&u!=+u||Math.abs(l)<.001)&&(l=0,c=0,f=0,p=e,v=r,g=o,y=i,d=0,h=n),`M${[e,o-n]} ${b(1,c)}${[p+d,g-h]} L${[v+d,y-h]} ${b(-1,f)}${[r,i-n]} L${[r,i+n]} ${b(1,f)}${[v-d,y+h]} L${[p-d,g+h]} ${b(-1,c)}${[e,o+n]} Z`})(n);return o})(u),{edgeColor:this.canvas.gradient("linear",t=>{var e;t.stop(0,null==(e=y.data)?void 0:e.color),t.stop(1,r?null==(e=b.data)?void 0:e.color:null==(t=y.data)?void 0:t.color)}),id:t.v+"-"+t.w,opacity:n}],(t=new E.Path({d:t})).id(m),t.fill(_).opacity(w);var _,w,m=t;if(o&&y.data&&b.data){let s=a?a({source:{...y.data,value:y.value},target:{...b.data,value:b.value},value:u.value}):null;m.on("mousemove",t=>{var e,r,n,o,i,a=ft({color:c,fontFamily:f,fontSize:l,fontWeight:d}),u=({bgColor:e,borderColor:r,maxWidth:n,padding:o,x:i,y:u}={bgColor:h,borderColor:p,x:t.pageX,y:t.pageY},i=["position: absolute;",`left: ${i+20}px;`,`top: ${u+20}px;`,`border: 1px solid ${r};`,"border-radius: 5px;"],e&&i.push(`background-color: ${e};`),n&&i.push(`max-width: ${n}px`),void 0!==o&&i.push(`padding: ${o}px`),i.join(" "));null!=(t=E.SVG(`[id="${t.target.id}"]`))&&t.front().opacity(1),ct(v,u+a,s)}),m.on("mouseout",t=>{ct(v),null!=(t=E.SVG(`[id="${t.target.id}"]`))&&t.front().opacity(n)})}e.add(m)}}let td={canvasStyle:"border: 1px solid #caced0; box-sizing: border-box",edgeGradientFill:!0,edgeOpacity:.4,enableToolbar:!0,enableTooltip:!0,fontColor:"#212121",fontFamily:"",fontSize:"14px",fontWeight:"400",height:"auto",nodeBorderColor:null,nodeBorderWidth:1,nodeWidth:20,onNodeClick:void 0,spacing:20,tooltipBGColor:"#FFFFFF",tooltipBorderColor:"#BCBCBC",tooltipId:"apexsankey-tooltip-container",tooltipTemplate:({source:t,target:e,value:r})=>`
      <div style='display:flex;align-items:center;gap:5px;padding:5px 10px;'>
        <div style='width:12px;height:12px;background-color:${t.color}'></div>
        <div>${t.title}</div>
        <div>=></div>
        <div style='width:12px;height:12px;background-color:${e.color}'></div>
        <div>${e.title}</div>
        <div>: ${r}</div> 
      </div>
    `,viewPortHeight:500,viewPortWidth:800,width:"100%"};return class{constructor(t,e){this.element=t,this.options=e,this.options={...td,...e};var{height:t,width:e}=this.options;this.graph=new Ql(this.element,this.options);let r=!1,n=0;"string"==typeof e&&/^\d+(\.\d+)?%$/.test(e)?(n=Number(e.substring(0,e.length-1)),r=!0):n=Number(e),e="auto"===t?n/1.6:t,this.element.style.width=""+n+(r?"%":"px"),this.element.style.height=""+e+(r?"%":"px"),this.element.style.position="relative"}render(t){if(this.element)return this.graph.construct(t),this.graph.render(),this.options.enableToolbar&&new pt(this.element,this.graph.canvas,"apex-sankey").render({enableExport:!0}),this.graph;throw new Error("Element not found")}}});